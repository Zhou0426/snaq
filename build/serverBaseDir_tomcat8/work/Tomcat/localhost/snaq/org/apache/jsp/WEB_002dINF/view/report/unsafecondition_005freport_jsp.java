/*
 * Generated by the Jasper component of Apache Tomcat
 * Version: Apache Tomcat/8.0.23
 * Generated at: 2017-07-12 13:48:12 UTC
 * Note: The last modified time of this file was set to
 *       the last modified time of the source file after
 *       generation to assist with modification tracking.
 */
package org.apache.jsp.WEB_002dINF.view.report;

import javax.servlet.*;
import javax.servlet.http.*;
import javax.servlet.jsp.*;

public final class unsafecondition_005freport_jsp extends org.apache.jasper.runtime.HttpJspBase
    implements org.apache.jasper.runtime.JspSourceDependent,
                 org.apache.jasper.runtime.JspSourceImports {

  private static final javax.servlet.jsp.JspFactory _jspxFactory =
          javax.servlet.jsp.JspFactory.getDefaultFactory();

  private static java.util.Map<java.lang.String,java.lang.Long> _jspx_dependants;

  static {
    _jspx_dependants = new java.util.HashMap<java.lang.String,java.lang.Long>(2);
    _jspx_dependants.put("/WEB-INF/lib/struts2-core-2.5.1.jar", Long.valueOf(1483894911194L));
    _jspx_dependants.put("jar:file:/C:/Users/RESTART1025/.gradle/caches/modules-2/files-2.1/org.apache.struts/struts2-core/2.5.1/4d896f8f509990d9da198423e56c36de0d1c03b6/struts2-core-2.5.1.jar!/META-INF/struts-tags.tld", Long.valueOf(1465862998000L));
  }

  private static final java.util.Set<java.lang.String> _jspx_imports_packages;

  private static final java.util.Set<java.lang.String> _jspx_imports_classes;

  static {
    _jspx_imports_packages = new java.util.HashSet<>();
    _jspx_imports_packages.add("javax.servlet");
    _jspx_imports_packages.add("javax.servlet.http");
    _jspx_imports_packages.add("javax.servlet.jsp");
    _jspx_imports_classes = null;
  }

  private javax.el.ExpressionFactory _el_expressionfactory;
  private org.apache.tomcat.InstanceManager _jsp_instancemanager;

  public java.util.Map<java.lang.String,java.lang.Long> getDependants() {
    return _jspx_dependants;
  }

  public java.util.Set<java.lang.String> getPackageImports() {
    return _jspx_imports_packages;
  }

  public java.util.Set<java.lang.String> getClassImports() {
    return _jspx_imports_classes;
  }

  public void _jspInit() {
    _el_expressionfactory = _jspxFactory.getJspApplicationContext(getServletConfig().getServletContext()).getExpressionFactory();
    _jsp_instancemanager = org.apache.jasper.runtime.InstanceManagerFactory.getInstanceManager(getServletConfig());
  }

  public void _jspDestroy() {
  }

  public void _jspService(final javax.servlet.http.HttpServletRequest request, final javax.servlet.http.HttpServletResponse response)
        throws java.io.IOException, javax.servlet.ServletException {

final java.lang.String _jspx_method = request.getMethod();
if (!"GET".equals(_jspx_method) && !"POST".equals(_jspx_method) && !"HEAD".equals(_jspx_method) && !javax.servlet.DispatcherType.ERROR.equals(request.getDispatcherType())) {
response.sendError(HttpServletResponse.SC_METHOD_NOT_ALLOWED, "JSPs only permit GET POST or HEAD");
return;
}

    final javax.servlet.jsp.PageContext pageContext;
    javax.servlet.http.HttpSession session = null;
    final javax.servlet.ServletContext application;
    final javax.servlet.ServletConfig config;
    javax.servlet.jsp.JspWriter out = null;
    final java.lang.Object page = this;
    javax.servlet.jsp.JspWriter _jspx_out = null;
    javax.servlet.jsp.PageContext _jspx_page_context = null;


    try {
      response.setContentType("text/html; charset=UTF-8");
      pageContext = _jspxFactory.getPageContext(this, request, response,
      			null, true, 8192, true);
      _jspx_page_context = pageContext;
      application = pageContext.getServletContext();
      config = pageContext.getServletConfig();
      session = pageContext.getSession();
      out = pageContext.getOut();
      _jspx_out = out;

      out.write("\r\n");
      out.write("    \r\n");
      out.write("<!DOCTYPE html PUBLIC \"-//W3C//DTD HTML 4.01 Transitional//EN\" \"http://www.w3.org/TR/html4/loose.dtd\">\r\n");
      out.write("<html>\r\n");
      out.write("<head>\r\n");
      out.write("<meta http-equiv=\"Content-Type\" content=\"text/html; charset=UTF-8\">\r\n");
      out.write("<title>神华宁煤安全风险预控管理信息系统</title>\r\n");
      out.write("<link rel=\"stylesheet\" type=\"text/css\" media=\"screen\" href=\"");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${pageContext.request.contextPath}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write("/css/ligerui-common.css\">\r\n");
      out.write("<link rel=\"stylesheet\" type=\"text/css\" media=\"screen\" href=\"");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${pageContext.request.contextPath}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write("/css/ligerui-menu.css\">\r\n");
      out.write("<link href=\"//cdn.bootcss.com/bootstrap/3.3.7/css/bootstrap.min.css\" rel=\"stylesheet\">\r\n");
      out.write("<link rel=\"stylesheet\" type=\"text/css\" href=\"");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${pageContext.request.contextPath}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write("/easyui/themes/default/easyui.css\">\r\n");
      out.write("<link rel=\"stylesheet\" type=\"text/css\" href=\"");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${pageContext.request.contextPath}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write("/easyui/themes/icon.css\">\r\n");
      out.write("<link rel=\"stylesheet\" type=\"text/css\" media=\"screen\" href=\"");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${pageContext.request.contextPath}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write("/css/datePicker.css\">\r\n");
      out.write("<link rel=\"stylesheet\" type=\"text/css\" media=\"screen\" href=\"");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${pageContext.request.contextPath}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write("/css/demo.css\">\r\n");
      out.write("\r\n");
      out.write("<script type=\"text/javascript\" src=\"");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${pageContext.request.contextPath}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write("/easyui/jquery.min.js\"></script>\r\n");
      out.write("<script type=\"text/javascript\" src=\"");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${pageContext.request.contextPath}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write("/easyui/jquery.easyui.min.js\"></script>\r\n");
      out.write("<script type=\"text/javascript\" src=\"");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${pageContext.request.contextPath}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write("/js/base.js\"></script>\r\n");
      out.write("<script type=\"text/javascript\" src=\"");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${pageContext.request.contextPath}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write("/js/ligerMenu.js\"></script>\r\n");
      out.write("<script type=\"text/javascript\" src=\"");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${pageContext.request.contextPath}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write("/js/echarts.min.js\"></script>\r\n");
      out.write("<script type=\"text/javascript\" src=\"");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${pageContext.request.contextPath}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write("/js/login.js\"></script>\r\n");
      out.write("<script type=\"text/javascript\" src=\"");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${pageContext.request.contextPath}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write("/easyui/locale/easyui-lang-zh_CN.js\"></script>\r\n");
      out.write("<script type=\"text/javascript\" src=\"");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${pageContext.request.contextPath}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write("/js/date.js\"></script>\r\n");
      out.write("<script type=\"text/javascript\" src=\"");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${pageContext.request.contextPath}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write("/js/jquery.datePicker.js\"></script>\r\n");
      out.write("<script type=\"text/javascript\" src=\"");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${pageContext.request.contextPath}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write("/easyui/datagrid-detailview.js\"></script>\r\n");
      out.write("<!-- 引进bootstrap所需文件 -->\r\n");
      out.write("<script src=\"//cdn.bootcss.com/bootstrap/3.3.7/js/bootstrap.min.js\" rel=\"stylesheet\"></script>\r\n");
      out.write("<style type=\"text/css\">\r\n");
      out.write("\t\t.active{background:#4FB0AC; color:#000;}\r\n");
      out.write("</style>\r\n");
      out.write("\r\n");
      out.write("</head>\r\n");
      out.write("<body>\r\n");
      out.write("\t<div id=\"win\" class=\"easyui-window\" title=\"不符合项明细信息\" closed=\"true\" style=\"width:1200px;height:400px;padding:5px;\">\t\t\t\r\n");
      out.write("\t\t<table id=\"dg\"></table>\r\n");
      out.write("\t</div>\t\r\n");
      out.write("\t<div id=\"winAttachments\" data-options=\"collapsible:false,minimizable:false,maximizable:false,modal:true\"></div>\r\n");
      out.write("\t<div id=\"button\" style=\"margin-left:20px;margin-top:20px;\">\r\n");
      out.write("\t\t<div style=\"float:left;margin-right:10px\">\r\n");
      out.write("\t\t\t<span style=\"float:left;margin-top:5px\"><b>选择范围：</b></span>\r\n");
      out.write("\t\t\t<input id=\"cc\" />\r\n");
      out.write("\t\t</div>\r\n");
      out.write("\t\t<div id=\"typebtns\" class=\"btn-group btn-group-sm\" style=\"float:left;margin-right:10px\">\t\t\t\r\n");
      out.write("\t\t</div>\r\n");
      out.write("\t\t<div id=\"xtypebtns\" class=\"btn-group btn-group-sm\" style=\"float:left;margin-right:10px\">\r\n");
      out.write("\t\t\t<span style=\"float:left;margin-top:5px\"><b>统计口径：</b></span>\t\t\t\t\r\n");
      out.write("\t\t\t<a id=\"deptbtn\" class=\"btn btn-default active\" data=\"1\">按部门</a>\r\n");
      out.write("\t\t\t<a id=\"spbtn\" class=\"btn btn-default\" data=\"2\" >按专业</a>\r\n");
      out.write("\t\t\t<a id=\"levelbtn\" class=\"btn btn-default\" data=\"3\">按风险等级</a>\r\n");
      out.write("\t\t\t<a id=\"undobtn\" class=\"btn btn-default\" data=\"4\">重置</a>\r\n");
      out.write("\t\t</div>\r\n");
      out.write("\t\t<div id=\"timebtns\" class=\"btn-group btn-group-sm\" style=\"float:left;margin-right:10px;margin-right:20px\">\r\n");
      out.write("\t\t\t<span style=\"float:left;margin-top:5px\"><b>报表类型：</b></span>\t\t\t\r\n");
      out.write("\t\t\t<a id=\"rb\" class=\"active  btn btn-default\" data=\"1\">日报</a> \r\n");
      out.write("\t\t\t<a class=\"btn btn-default\" data=\"2\">周报</a>\r\n");
      out.write("\t\t\t<a class=\"btn btn-default\" data=\"3\">月报</a>\t\r\n");
      out.write("\t\t\t<a class=\"btn btn-default\" data=\"4\">季报</a>\r\n");
      out.write("\t\t\t<a class=\"btn btn-default\" data=\"5\" >半年报</a>\r\n");
      out.write("\t\t\t<a class=\"btn btn-default\" data=\"6\" >年报</a>\r\n");
      out.write("\t\t</div>\r\n");
      out.write("\t    <div style=\"float:left;\">\r\n");
      out.write("<!-- \t    \t<label class=\"label-info\">选择日期：</label> -->\r\n");
      out.write("\t\t\t<div id=\"daydiv\" style=\"float:left;margin-right:10px\">\r\n");
      out.write("\t\t\t\t\t<select id=\"dayselect\" style=\"width:120px;height:40px;\" class= \"easyui-datebox\" editable=\"false\"></select>\r\n");
      out.write("\t\t\t</div>\t\r\n");
      out.write("\t\t\t<div id=\"container\" style=\"float:left;margin-right:10px\"> \r\n");
      out.write("\t\t\t\t\t<form name=\"chooseDateForm\" id=\"chooseDateForm\" action=\"datePicker.html#\">\t\t\t\t\t\r\n");
      out.write("\t\t\t\t\t\t<fieldset>\r\n");
      out.write("\t\t\t\t\t\t\t<!-- <legend>请选择周数</legend> \t\t -->\t\t\t\r\n");
      out.write("\t\t                    <ol>\r\n");
      out.write("\t\t                        <li>\r\n");
      out.write("\t\t\t\t\t\t\t\t\t<input name=\"date1\" id=\"date1\" class=\"date-pick\" />\r\n");
      out.write("\t\t\t\t\t\t\t\t</li>\r\n");
      out.write("\t\t\t\t\t\t\t</ol>\r\n");
      out.write("\t\t\t\t\t\t</fieldset>\r\n");
      out.write("\t\t\t\t\t</form>\r\n");
      out.write("\t\t    </div>\r\n");
      out.write("\t\t\t<div id=\"yeardiv\" style=\"float:left;margin-right:10px\" name=\"xx\">\r\n");
      out.write("\t\t\t\t<input id=\"yearselect\" name=\"year\" class=\"easyui-combobox\" style=\"height:27px;width:70px;\" />\r\n");
      out.write("\t\t\t</div> \r\n");
      out.write("\t\t\t<div id=\"halfyeardiv\" style=\"float:left;margin-right:10px\">\r\n");
      out.write("\t\t\t\t<select id=\"halfyearselect\" class=\"easyui-combobox\" name=\"halfyear\" style=\"height:27px;width:70px;\">   \r\n");
      out.write("\t\t\t\t    <option value=\"1\">上半年</option>   \r\n");
      out.write("\t\t\t\t    <option value=\"7\">下半年</option>  \r\n");
      out.write("\t\t\t\t</select>\r\n");
      out.write("\t\t\t</div>\r\n");
      out.write("\t\t\t<div id=\"seasondiv\" style=\"float:left;margin-right:10px\">\r\n");
      out.write("\t\t\t\t<select id=\"seasonselect\" class=\"easyui-combobox\" name=\"season\" style=\"height:27px;width:70px;\">   \r\n");
      out.write("\t\t\t\t    <option value=\"1\">春季</option>   \r\n");
      out.write("\t\t\t\t    <option value=\"4\">夏季</option>   \r\n");
      out.write("\t\t\t\t    <option value=\"7\">秋季</option>   \r\n");
      out.write("\t\t\t\t    <option value=\"10\">冬季</option>  \r\n");
      out.write("\t\t\t\t</select>\r\n");
      out.write("\t\t\t</div> \r\n");
      out.write("\t\t\t<div id=\"monthdiv\" style=\"float:left;margin-right:10px\">\r\n");
      out.write("\t\t\t\t<select id=\"monthselect\" class=\"easyui-combobox\" name=\"month\" style=\"height:27px;width:70px;\">   \r\n");
      out.write("\t\t\t\t    <option value=\"1\">1</option>   \r\n");
      out.write("\t\t\t\t    <option value=\"2\">2</option>   \r\n");
      out.write("\t\t\t\t    <option value=\"3\">3</option>   \r\n");
      out.write("\t\t\t\t    <option value=\"4\">4</option>   \r\n");
      out.write("\t\t\t\t    <option value=\"5\">5</option>  \r\n");
      out.write("\t\t\t\t    <option value=\"6\">6</option>   \r\n");
      out.write("\t\t\t\t    <option value=\"7\">7</option>   \r\n");
      out.write("\t\t\t\t    <option value=\"8\">8</option>   \r\n");
      out.write("\t\t\t\t    <option value=\"9\">9</option>   \r\n");
      out.write("\t\t\t\t    <option value=\"10\">10</option>  \r\n");
      out.write("\t\t\t\t    <option value=\"11\">11</option>   \r\n");
      out.write("\t\t\t\t    <option value=\"12\">12</option> \r\n");
      out.write("\t\t\t\t</select>\r\n");
      out.write("\t\t\t</div>\r\n");
      out.write("\t\t</div>\r\n");
      out.write("\t\t<div class=\"btn-group btn-group-sm\">\r\n");
      out.write("\t\t\t<a id=\"exportexcel\" onclick=\"exportexcel()\" class=\"btn btn-default\">导出</a>\r\n");
      out.write("\t\t</div>\r\n");
      out.write("<!-- \t\t<form id=\"form\"></form> -->\r\n");
      out.write("\t</div>\t\r\n");
      out.write("\t<br/>\r\n");
      out.write("\t<div id=\"main\" style=\"float:left;width:100%;height:500px;\"></div>\r\n");
      out.write("\t\r\n");
      out.write("\t<div id=\"exportDiv\">\r\n");
      out.write("\t\t<a id=\"export\" class=\"easyui-linkbutton\" data-options=\"iconCls:'icon-excel'\" >导出详情</a>\r\n");
      out.write("\t\t<form id=\"exportForm\">\r\n");
      out.write("\t\t</form>\r\n");
      out.write("\t</div>\r\n");
      out.write("\t<script type=\"text/javascript\">\r\n");
      out.write("\t//全局变量\r\n");
      out.write("\tvar clickEchart=\"\";\r\n");
      out.write("\tvar clickEchartBefore=\"\";\r\n");
      out.write("\tvar departmentTypeSn=null;\r\n");
      out.write("\tvar begin=null;//记录开始时间\r\n");
      out.write("\tvar end=null;//结束时间\r\n");
      out.write("\tvar year=null;//年\r\n");
      out.write("\tvar month=null;//月\r\n");
      out.write("\tvar season=null;//日\r\n");
      out.write("\tvar halfyear=null;//半年\r\n");
      out.write("\tvar showtime=\"1\";//所选报表时间类型，根据类型拼接不同下拉框的时间\r\n");
      out.write("\tvar type=null;//后台传回来的此时横坐标的类型，根据此时横坐标的类型更新三个不同的查询条件（departmentSnIndex,inconformitySnIndex,specialitySnIndex)\r\n");
      out.write("\tvar myChart = echarts.init(document.getElementById('main'));//定义直方图\r\n");
      out.write(" \tvar menu=null;                 //上下文菜单，ligerMenu\r\n");
      out.write("    var itemName, itemNum;    //图表中被右键单击的数据项目名称和数值\r\n");
      out.write("\tvar departmentSns= [];//从后台获取的所有部门编号编号集合\r\n");
      out.write("\tvar specialitySns= [];//从后台获取的所有专业编号集合\r\n");
      out.write("\tvar inconformityLevelSns= [];//从后台获取的所有危险的等级编号集合\r\n");
      out.write("    var item=null;//右键菜单所选择的值\r\n");
      out.write("    var itemSn='1';//右键菜单所选择的标识传到后台表示用户选择按什么分类 默认itemSn=1 携带部门编号和部门类型编号查询\r\n");
      out.write("    var departmentSnIndex=null;  //用户所选柱子的部门编号索引\r\n");
      out.write("    var specialitySnIndex=null;//用户所选柱子的专业编号索引\r\n");
      out.write("    var inconformityLevelSnIndex=null;//用户所选的危险等级编号索引\r\n");
      out.write("    var children=null;//当横坐标为部门时的所有子部门集合\r\n");
      out.write("    var childrenIndex=null;//获得当前柱子部门下的所有子部门，看是否为空，用来判断是否有子部门 如果没有 以后下钻都去掉部门这个选项\r\n");
      out.write("    var departmentNames=null;\r\n");
      out.write("    var departmentNameIndex=null;\r\n");
      out.write("    var inconformityitem=[];\r\n");
      out.write("    var whichIndex=null;\r\n");
      out.write("    var itemSn1=null;\r\n");
      out.write("    \r\n");
      out.write("\tvar hazardValue=new Array();\r\n");
      out.write("\tvar machineValue=new Array();\r\n");
      out.write("\tvar checkersValue=new Array();\r\n");
      out.write("\tvar specialityValue=new Array();\r\n");
      out.write("\tvar deductPointsValue=new Array();\r\n");
      out.write("\tvar standardIndexValue=new Array();\r\n");
      out.write("\tvar correctPrincipalValue=new Array();\r\n");
      out.write("\tvar inconformityLevelValue=new Array();\r\n");
      out.write("\tvar inconformityItemSnValue=new Array();\r\n");
      out.write("\tvar inconformityItemNatureValue=new Array();\r\n");
      out.write("\tvar checkTypeValue = new Array();\r\n");
      out.write("\tvar systemAuditValue=new Array();\r\n");
      out.write("\tvar checkerFromValue=new Array();\r\n");
      out.write("\t\r\n");
      out.write("\tvar nowYear = new Array();\r\n");
      out.write("\tvar dateValue = new Date;\r\n");
      out.write("\tfor(var i = dateValue.getFullYear() ; i > 2015; i--){\r\n");
      out.write("\t\tnowYear.push({\"id\" : i, \"text\" : i + \"年\"});\r\n");
      out.write("\t};\r\n");
      out.write("\t$(function () {\r\n");
      out.write("\t\t\r\n");
      out.write("\t\t$('#export').bind('click', function(){    \r\n");
      out.write("\t\t\t$('#exportForm').form('submit', {\r\n");
      out.write("\t\t\t\turl:'");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${pageContext.request.contextPath}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write("/unsafeCondition/query/queryAction_reportExcel',\r\n");
      out.write("\t\t\t\tqueryParams:{\r\n");
      out.write("\t\t\t\t\t\tdepartmentTypeSn:departmentTypeSn,\r\n");
      out.write("\t\t\t    \t\tbegin:begin,\r\n");
      out.write("\t\t\t    \t\tend:end,\r\n");
      out.write("\t\t\t    \t\tspecialitySnIndex:specialitySnIndex,\r\n");
      out.write("\t\t\t    \t\tinconformityLevelSnIndex:inconformityLevelSnIndex,\r\n");
      out.write("\t\t\t    \t\tdepartmentSnIndex:departmentSnIndex,\r\n");
      out.write("\t\t\t    \t\tdepartmentTypeSn:departmentTypeSn\r\n");
      out.write("\t\t\t\t}\r\n");
      out.write("\t\t\t});\r\n");
      out.write("\t    });\r\n");
      out.write("\t\t\r\n");
      out.write("\t\t\r\n");
      out.write("\t\t  //初始化后面要显示的上下文菜单\r\n");
      out.write("\t\t    menu1 = $.ligerMenu({ \r\n");
      out.write("\t\t      top: 20, \r\n");
      out.write("\t\t      left: 100, \r\n");
      out.write("\t\t      width: 120, \r\n");
      out.write("\t\t      items:[ { text: '部门', click: loadechart},\r\n");
      out.write("\t\t        { text: '专业', click: loadechart},\r\n");
      out.write("\t\t        { text: '危险等级 ', click: loadechart} ,\r\n");
      out.write("\t\t\t\t{ text: '查看明细 ', click: loadechart} ]\r\n");
      out.write("\t\t    });\r\n");
      out.write("\t\t    menu2= $.ligerMenu({ \r\n");
      out.write("\t\t\t      top: 20, \r\n");
      out.write("\t\t\t      left: 100, \r\n");
      out.write("\t\t\t      width: 120, \r\n");
      out.write("\t\t\t      items: [\r\n");
      out.write("\t\t\t        { text: '部门', click: loadechart},\r\n");
      out.write("\t\t\t        { text: '危险等级', click: loadechart},\r\n");
      out.write("\t\t\t\t\t{ text: '查看明细 ', click: loadechart} \r\n");
      out.write("\t\t\t      ]\r\n");
      out.write("\t\t\t    });\r\n");
      out.write("\t\t    menu3 = $.ligerMenu({ \r\n");
      out.write("\t\t\t      top: 20, \r\n");
      out.write("\t\t\t      left: 100, \r\n");
      out.write("\t\t\t      width: 120, \r\n");
      out.write("\t\t\t      items: [\r\n");
      out.write("\t\t\t        { text: '部门', click: loadechart},\r\n");
      out.write("\t\t\t        { text: '专业', click: loadechart},\r\n");
      out.write("\t\t\t\t\t{ text: '查看明细 ', click: loadechart} \r\n");
      out.write("\t\t\t      ]\r\n");
      out.write("\t\t\t    });\r\n");
      out.write("\t\t    menu4 = $.ligerMenu({ \r\n");
      out.write("\t\t\t      top: 20, \r\n");
      out.write("\t\t\t      left: 100, \r\n");
      out.write("\t\t\t      width: 120, \r\n");
      out.write("\t\t\t      items: [\r\n");
      out.write("\t\t\t        { text: '部门', click: loadechart},\r\n");
      out.write("\t\t\t\t\t{ text: '查看明细 ', click: loadechart} \r\n");
      out.write("\t\t\t      ]\r\n");
      out.write("\t\t\t    });\r\n");
      out.write("\t\t    menu5 = $.ligerMenu({ \r\n");
      out.write("\t\t\t      top: 20, \r\n");
      out.write("\t\t\t      left: 100, \r\n");
      out.write("\t\t\t      width: 120, \r\n");
      out.write("\t\t\t      items: [ { text: '专业', click: loadechart},\r\n");
      out.write("\t\t\t\t\t        { text: '危险等级', click: loadechart},\r\n");
      out.write("\t\t\t\t\t\t\t{ text: '查看明细 ', click: loadechart} \r\n");
      out.write("\t\t\t      ]\r\n");
      out.write("\t\t\t    });\r\n");
      out.write("\t\t    menu6 = $.ligerMenu({ \r\n");
      out.write("\t\t\t      top: 20, \r\n");
      out.write("\t\t\t      left: 100, \r\n");
      out.write("\t\t\t      width: 120, \r\n");
      out.write("\t\t\t      items: [\r\n");
      out.write("\t\t\t        { text: '危险等级', click: loadechart},\r\n");
      out.write("\t\t\t\t\t{ text: '查看明细 ', click: loadechart} \r\n");
      out.write("\t\t\t      ]\r\n");
      out.write("\t\t\t    });\r\n");
      out.write("\t\t    menu7 = $.ligerMenu({ \r\n");
      out.write("\t\t\t      top: 20, \r\n");
      out.write("\t\t\t      left: 100, \r\n");
      out.write("\t\t\t      width: 120, \r\n");
      out.write("\t\t\t      items: [\r\n");
      out.write("\t\t\t          { text: '专业', click: loadechart},\r\n");
      out.write("\t\t\t\t\t\t{ text: '查看明细 ', click: loadechart} \r\n");
      out.write("\t\t\t      ]\r\n");
      out.write("\t\t\t    });\r\n");
      out.write("\t\t    menu8 = $.ligerMenu({ \r\n");
      out.write("\t\t\t      top: 20, \r\n");
      out.write("\t\t\t      left: 100, \r\n");
      out.write("\t\t\t      width: 160, \r\n");
      out.write("\t\t\t      items: [\r\n");
      out.write("\t\t\t\t\t\t\t{ text: '查看明细 ', click: loadechart} \t\t              \r\n");
      out.write("\t\t\t      ]\r\n");
      out.write("\t\t\t    });\r\n");
      out.write("        //取消浏览器默认右键上下文菜单的显示\r\n");
      out.write("        $(document).bind(\"contextmenu\", function(){ return false; });\r\n");
      out.write("\t\t$(\"#container\" ).hide();\r\n");
      out.write("\t\t$(\"#halfyeardiv\" ).hide();\r\n");
      out.write("\t\t$(\"#yeardiv\" ).hide();\r\n");
      out.write("\t\t$(\"#monthdiv\" ).hide();\r\n");
      out.write("\t\t$(\"#seasondiv\" ).hide();\r\n");
      out.write("\t\t$('.date-pick').datePicker({selectWeek:true,closeOnSelect:true});\r\n");
      out.write("\t\t<!--加载部门树形菜单-->\r\n");
      out.write("\t    $('#cc').combotree({\r\n");
      out.write("\t\t    url: '");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${pageContext.request.contextPath}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write("/department/treeAll?resourceSn=0601',\r\n");
      out.write("\t    \twidth:200,\r\n");
      out.write("\t    \theight:27,\r\n");
      out.write("\t\t\tpanelWidth: 300,\r\n");
      out.write("\t\t\tpanelHeight:350,\r\n");
      out.write("\t\t    onLoadSuccess: function (node, data) {\r\n");
      out.write("\t\t    \t//部门树形菜单加载完成后获取下拉框里的值，此时为空\r\n");
      out.write("\t\t       var x = $('#cc').combotree('getValue');\t\t       \r\n");
      out.write("\t           if( x.length == 0 ){  \r\n");
      out.write("\t        \t   //当下拉框里的值为空时，将值设为根节点，并找到该节点的id，选择该节点的Dom对象\r\n");
      out.write("\t                var da=$(\"#cc\").combotree('tree').tree(\"getRoot\");\t\r\n");
      out.write("\t\t\t    \t$('#cc').combotree('setValue', da);\t\t    \t\r\n");
      out.write("\t\t\t    \tvar node = $(\"#cc\").combotree('tree').tree('find', da.id);\r\n");
      out.write("\t\t\t    \t$(\"#cc\").combotree('tree').tree('select', node.target);\t\r\n");
      out.write("\t\t\t    \tif(data.length == 1){\r\n");
      out.write("\t\t\t\t\t\t$('#cc').combotree('tree').tree('expand', node.target);\r\n");
      out.write("\t\t        \t}\r\n");
      out.write("\t           }        \r\n");
      out.write("\t\t\t},\r\n");
      out.write("\t\t\t//选择时执行选择方法动态生成部门菜单，给部门编号和部门类型编号赋值并发送Action\r\n");
      out.write("\t\t\tonSelect: function(){\r\n");
      out.write("\t\t\t\tnodeSelect();\r\n");
      out.write("\t\t\t\tloadechart();\r\n");
      out.write("\t\t\t}\r\n");
      out.write("\t\t\t//onChange: nodeSelect\t\t\r\n");
      out.write("\t\t});       \r\n");
      out.write("\t    function nodeSelect(){\t  \r\n");
      out.write("\t    \t//选择部门\r\n");
      out.write("\t\t\tvar t = $('#cc').combotree('tree');\r\n");
      out.write("\t\t\tvar node = t.tree('getSelected'); \r\n");
      out.write("\t\t\t//默认将根节点编号赋值给部门编号\r\n");
      out.write("\t\t\tdepartmentSnIndex=node.id;\r\n");
      out.write("\t\t\t//$(\"#cc\").combotree('tree').tree('expand',node.target);\t\r\n");
      out.write("\t\t\t//选择部门下拉框时根据部门编号动态生成部门类型菜单\r\n");
      out.write("\t\t\t$.post(\"");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${pageContext.request.contextPath}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write("/report/typeReport\",{departmentSn:node.id},function(rv){\r\n");
      out.write("\t\t\t\t$(\"#typebtns\").empty();\r\n");
      out.write("\t\t\t\tif(rv.length>0){\t\t\t\t\t\r\n");
      out.write("\t\t\t\t\t$(\"#typebtns\").append(\"<span style='float:left;font-weight:bold;margin-top:5px'>\"+\"部门类型：\"+\"</span>\");\r\n");
      out.write("\t\t\t\t}\r\n");
      out.write("\t\t\t\tfor (var i = 0;i < rv.length;i++){\r\n");
      out.write("\t\t\t\t\t\t$(\"#typebtns\").append(\"<a class='btn btn-default' data='\" + rv[i].value+\"'>\"+ rv[i].text+\"</a>\");\t\t\t\t\t\r\n");
      out.write("\t\t\t\t}\r\n");
      out.write("\r\n");
      out.write("\t\t\t\t//现在时间和部门编号itemSn为1，部门类型被赋值后第一次发送Action。\r\n");
      out.write("\t\t\t\t//loadechart();\r\n");
      out.write("\t\t\t\t$.parser.parse($('#typebtns').parent());\r\n");
      out.write("\t\t\t\t<!--部门类型按钮点击 -->\r\n");
      out.write("\t\t\t\t//部门类型样式变换\r\n");
      out.write("\t\t\t\t$(\"#typebtns a\").click(function(){\r\n");
      out.write("\t\t\t\t\tif($(this).hasClass(\"active\"))\r\n");
      out.write("\t\t\t    \t{\r\n");
      out.write("\t\t\t       \t\t$(this).removeClass(\"active\");\r\n");
      out.write("\t\t\t       \t\tdepartmentTypeSn=null;\r\n");
      out.write("\t\t\t    \t}\r\n");
      out.write("\t\t\t    \telse\r\n");
      out.write("\t\t\t    \t{\r\n");
      out.write("\t\t\t\t\t\t$(\"#typebtns a\").removeClass(\"active\");\r\n");
      out.write("\t\t\t\t        $(this).addClass(\"active\");\r\n");
      out.write("\t\t\t\t\t\tdepartmentTypeSn=$(this).attr(\"data\");\r\n");
      out.write("\t\t\t        }\r\n");
      out.write("\t\t\t\t\tloadechart();\r\n");
      out.write("\t\t\t\t});\t\t\t\t\r\n");
      out.write("\t\t\t},'json'); \r\n");
      out.write("\t\t}\r\n");
      out.write("\t    \r\n");
      out.write("\t    \r\n");
      out.write("\t    <!--日期按钮点击 -->\r\n");
      out.write("\t    $(\"#timebtns a\").click(function(){  \r\n");
      out.write("\t    \tvar $this = $(this);\r\n");
      out.write("    \t\t$(\"#timebtns a\").removeClass(\"active\");\r\n");
      out.write("        \t$this.addClass(\"active\");\r\n");
      out.write("    \t\ttimebtnchange();\r\n");
      out.write("\t    \tshowtime=$(this).attr(\"data\");\r\n");
      out.write("\t    \tif(showtime=='1'){\r\n");
      out.write("\t    \t\t$('#daydiv').show();\r\n");
      out.write("// \t    \t\tvar date=new Date();\r\n");
      out.write("// \t    \t\tbegin=date.getFullYear()+\"-0\"+(date.getMonth()+1)+\"-\"+date.getDate()+\" 00:00:00\";\r\n");
      out.write("// \t    \t\tend=date.getFullYear()+\"-0\"+(date.getMonth()+1)+\"-\"+date.getDate()+\" 23:59:59\";\t \r\n");
      out.write("\t    \t\tbegin=$('#dayselect').datebox('getValue')+\" 00:00:00\";\r\n");
      out.write("\t    \t\tend=$('#dayselect').datebox('getValue')+\" 23:59:59\";\t \r\n");
      out.write("\t    \t}\r\n");
      out.write("\t    \tif(showtime=='2'){\r\n");
      out.write("\t    \t\t$(\"#container\" ).show();\r\n");
      out.write("\t    \t\tvar time=$('#date1').val().toString();\r\n");
      out.write("\t\t\t\tvar year1=time.substring(6,10);\r\n");
      out.write("\t\t\t\tvar month1=time.substring(3,5);\r\n");
      out.write("\t\t\t\tvar day1=time.substring(0,2);\r\n");
      out.write("\t\t\t\tvar day2=parseInt(day1)+6;\r\n");
      out.write("\t\t\t\tvar x=day2.toString();\r\n");
      out.write("\t\t\t\tbegin= year1+'-'+month1+'-'+ day1 +\" 00:00:00\";\r\n");
      out.write("\t\t\t\tend= year1+'-'+month1+'-'+ x +\" 00:00:00\";\r\n");
      out.write("\t    \t}\r\n");
      out.write("\t    \tif(showtime=='3'){\r\n");
      out.write("\t    \t\t$('#yeardiv').show();\r\n");
      out.write("\t    \t\t$('#yearselect').combobox('setValue', dateValue.getFullYear());\r\n");
      out.write("\t    \t\t$('#monthdiv').show();\r\n");
      out.write("// \t    \t\tyear='2016';\r\n");
      out.write("// \t    \t\tmonth='1';\r\n");
      out.write("\t\t\t\tyear=$('#yearselect').combobox('getValue');\r\n");
      out.write("\t\t\t\tmonth=$('#monthselect').combobox('getValue');\r\n");
      out.write("\t    \t}\r\n");
      out.write("\t    \tif(showtime=='4'){\r\n");
      out.write("\t    \t\t$('#yeardiv').show();\r\n");
      out.write("\t    \t\t$('#yearselect').combobox('setValue', dateValue.getFullYear());\r\n");
      out.write("\t    \t\t$('#seasondiv').show();\r\n");
      out.write("// \t    \t\tyear='2016';\r\n");
      out.write("// \t    \t\tseason='1';\r\n");
      out.write("\t\t\t\tyear=$('#yearselect').combobox('getValue');\r\n");
      out.write("\t\t\t\tseason=$('#seasonselect').combobox('getValue');\r\n");
      out.write("\t    \t}\r\n");
      out.write("\t    \tif(showtime=='5'){\r\n");
      out.write("\t    \t\t$('#yeardiv').show();\r\n");
      out.write("\t    \t\t$('#yearselect').combobox('setValue', dateValue.getFullYear());\r\n");
      out.write("\t    \t\t$('#halfyeardiv').show();\r\n");
      out.write("// \t    \t\tyear='2016';\r\n");
      out.write("// \t    \t\thalfyear='1';\r\n");
      out.write("\t\t\t\tyear=$('#yearselect').combobox('getValue');\r\n");
      out.write("\t\t\t\thalfyear=$('#halfyearselect').combobox('getValue');\r\n");
      out.write("\t    \t}\r\n");
      out.write("\t    \tif(showtime=='6'){\r\n");
      out.write("\t    \t\t$('#yeardiv').show();\r\n");
      out.write("\t    \t\t$('#yearselect').combobox('setValue', dateValue.getFullYear());\r\n");
      out.write("\t    \t\t//year='2016';\r\n");
      out.write("\t\t\t\tyear=$('#yearselect').combobox('getValue');\r\n");
      out.write("\t    \t}\r\n");
      out.write("\t    \tloadechart();\r\n");
      out.write("\t    }); \r\n");
      out.write("\t    //横坐标类型按钮点击\r\n");
      out.write("\t    $(\"#xtypebtns a\").click(function(){ \r\n");
      out.write("\t    \t//改变样式\t    \t\r\n");
      out.write("\t    \tvar $this = $(this); \r\n");
      out.write("\t    \titemSn=$(this).attr(\"data\");\r\n");
      out.write("    \t\t$(\"#xtypebtns a\").removeClass(\"active\");\r\n");
      out.write("        \t$this.addClass(\"active\");\r\n");
      out.write("        \t//只有点击重置按钮时才清空下面所选的额专业和等级条件和默认根节点和默认第一个部门和默认时间，如果不选重置的话前面选择的所有条件都在\r\n");
      out.write("\t    \tif(itemSn=='4'){\r\n");
      out.write("\t    \t\t//itemSn=0时调用方法查询子部门判断右键菜单\r\n");
      out.write("\t    \t\titemSn=0;\r\n");
      out.write("    \t\t\tspecialitySnIndex=null;\r\n");
      out.write("\t    \t\tinconformityLevelSnIndex=null; \r\n");
      out.write("\t    \t\tdepartmentTypeSn=null;\r\n");
      out.write("\t    \t\tvar da=$(\"#cc\").combotree('tree').tree(\"getRoot\");\t\r\n");
      out.write("\t    \t\t$('#cc').combotree('setValue', da);\t\r\n");
      out.write("\t    \t\tnodeSelect();\t    \t\t\r\n");
      out.write("\t    \t\ttimebtnchange();\r\n");
      out.write("\t    \t\t$('#daydiv').show();\t   \r\n");
      out.write("\t\t\t\tshowtime=null;\r\n");
      out.write("\t    \t\tbegin=$('#dayselect').datebox('getValue')+\" 00:00:00\";\r\n");
      out.write("\t    \t\tend=$('#dayselect').datebox('getValue')+\" 23:59:59\"; \t    \t\t\r\n");
      out.write("\t    \t\t//设置默认按钮样式\r\n");
      out.write("\t    \t\t$(\"#timebtns a\").removeClass(\"active\");\r\n");
      out.write("\t    \t\t$(\"#typebtns a\").removeClass(\"active\");\r\n");
      out.write("\t    \t\t$(\"#xtypebtns a\").removeClass(\"active\");\r\n");
      out.write("\t    \t\t$(\"#rb\").addClass(\"active\");\r\n");
      out.write("\t    \t\t$(\"#undobtn\").addClass(\"active\");\r\n");
      out.write("\t    \t}\r\n");
      out.write("\t    \tloadechart();\r\n");
      out.write("\t    }); \r\n");
      out.write("\t    <!--选中day下拉框-->\r\n");
      out.write("\t     $('#dayselect').datebox({\r\n");
      out.write("\t    \tvalue:\"14/5/2016\",\r\n");
      out.write("\t    \theight:27,\r\n");
      out.write("\t    \tonSelect: function(date){\r\n");
      out.write("\t    \t\tif(date.getDate()<10)\r\n");
      out.write("\t\t    \t{\tif(date.getMonth()<10){\r\n");
      out.write("\t\t\t    \t\tbegin=date.getFullYear()+\"-0\"+(date.getMonth()+1)+\"-0\"+date.getDate()+\" 00:00:00\";\r\n");
      out.write("\t\t\t    \t\tend=date.getFullYear()+\"-0\"+(date.getMonth()+1)+\"-0\"+date.getDate()+\" 23:59:59\";\r\n");
      out.write("\t\t    \t\t}\r\n");
      out.write("\t\t\t    \telse\r\n");
      out.write("\t\t\t    \t{\r\n");
      out.write("\t\t\t    \t\tbegin=date.getFullYear()+\"-\"+(date.getMonth()+1)+\"-0\"+date.getDate()+\" 00:00:00\";\r\n");
      out.write("\t\t\t    \t\tend=date.getFullYear()+\"-\"+(date.getMonth()+1)+\"-0\"+date.getDate()+\" 23:59:59\";\r\n");
      out.write("\t\t\t    \t}\r\n");
      out.write("\t\t    \t}\r\n");
      out.write("\t\t    \telse\r\n");
      out.write("\t\t    \t{\r\n");
      out.write("\t\t    \t\tif(date.getMonth()<10){\r\n");
      out.write("\t\t\t    \t\tbegin=date.getFullYear()+\"-0\"+(date.getMonth()+1)+\"-\"+date.getDate()+\" 00:00:00\";\r\n");
      out.write("\t\t\t    \t\tend=date.getFullYear()+\"-0\"+(date.getMonth()+1)+\"-\"+date.getDate()+\" 23:59:59\";\r\n");
      out.write("\t    \t\t\t}\r\n");
      out.write("\t\t\t    \telse\r\n");
      out.write("\t\t\t    \t{\r\n");
      out.write("\t\t\t    \t\tbegin=date.getFullYear()+\"-\"+(date.getMonth()+1)+\"-\"+date.getDate()+\" 00:00:00\";\r\n");
      out.write("\t\t\t    \t\tend=date.getFullYear()+\"-\"+(date.getMonth()+1)+\"-\"+date.getDate()+\" 23:59:59\";\r\n");
      out.write("\t\t\t    \t}\r\n");
      out.write("\t\t    \t}\r\n");
      out.write("\t    \t\tloadechart(); \r\n");
      out.write("\t    \t}\r\n");
      out.write("\t\t}); \t\r\n");
      out.write("\t    //默认将时间设置为当前日期\r\n");
      out.write("\t\tbegin=$('#dayselect').datebox('getValue')+\" 00:00:00\";\r\n");
      out.write("\t\tend=$('#dayselect').datebox('getValue')+\" 23:59:59\";\r\n");
      out.write("\t    <!--week下拉框改变-->\r\n");
      out.write("\t     $('#date1').change(function(){\r\n");
      out.write("\t\t\tvar time=$(this).val().toString();\r\n");
      out.write("\t\t\tvar year1=time.substring(6,10);\r\n");
      out.write("\t\t\tvar month1=time.substring(3,5);\r\n");
      out.write("\t\t\tvar day1=time.substring(0,2);\r\n");
      out.write("\t\t\tvar day2=parseInt(day1)+6;\r\n");
      out.write("\t\t\tvar x=day2.toString();\r\n");
      out.write("\t\t\tbegin= year1+'-'+month1+'-'+ day1 +\" 00:00:00\";\r\n");
      out.write("\t\t\tend= year1+'-'+month1+'-'+ x +\" 00:00:00\";\r\n");
      out.write("\t\t\tloadechart();\r\n");
      out.write("\t\t});\r\n");
      out.write("\t     <!--other下拉框改变-->\r\n");
      out.write("\t     $('#yearselect').combobox({\r\n");
      out.write("\t    \t panelHeight:150,\r\n");
      out.write("\t         editable:false,\r\n");
      out.write("\t    \t valueField: 'id',\r\n");
      out.write("\t\t\t textField: 'text',\r\n");
      out.write("\t         onLoadSuccess:function(node, data){\r\n");
      out.write("\t        \t //$('#yearselect').combobox('select', node[0].id);\r\n");
      out.write("\t         },\r\n");
      out.write("\t\t     onSelect:function(record){\r\n");
      out.write("\t\t \t\tyear=record.id;\r\n");
      out.write("\t\t \t\tloadechart();\r\n");
      out.write("\t\t     }\r\n");
      out.write("\t     });\r\n");
      out.write("\t\t $('#yearselect').combobox('loadData', nowYear);\r\n");
      out.write("\t     $('#monthselect').combobox({\r\n");
      out.write("\t    \t panelHeight:'auto',\r\n");
      out.write("\t         editable:false,\r\n");
      out.write("\t\t     onSelect:function(param){\r\n");
      out.write("\t\t \t\tmonth=param.value;\r\n");
      out.write("\t\t \t\tloadechart();\r\n");
      out.write("\t\t     }\r\n");
      out.write("\t     });\r\n");
      out.write("\t     $('#seasonselect').combobox({\r\n");
      out.write("\t    \t panelHeight:'auto',\r\n");
      out.write("\t         editable:false,\r\n");
      out.write("\t\t     onSelect:function(param){\r\n");
      out.write("\t\t \t\tseason=param.value;\r\n");
      out.write("\t\t \t\tloadechart();\r\n");
      out.write("\t\t     }\r\n");
      out.write("\t    \t});\r\n");
      out.write("\t     $('#halfyearselect').combobox({\r\n");
      out.write("\t    \t panelHeight:'auto',\r\n");
      out.write("\t         editable:false,\r\n");
      out.write("\t\t     onSelect:function(param){\r\n");
      out.write("\t\t \t\thalfyear=param.value;\r\n");
      out.write("\t\t \t\tloadechart();\r\n");
      out.write("\t\t     }\r\n");
      out.write("\t    \t});\t     \r\n");
      out.write("\r\n");
      out.write("\t \t// echarts的初始化设置。显示标题，图例和空的坐标轴\r\n");
      out.write("\t\t myChart.setOption({\r\n");
      out.write("\t\t\ttooltip : {\r\n");
      out.write("\t\t        trigger: 'axis',\r\n");
      out.write("\t\t        axisPointer : {            // 坐标轴指示器，坐标轴触发有效\r\n");
      out.write("\t\t            type : 'shadow'        // 默认为直线，可选为：'line' | 'shadow'\r\n");
      out.write("\t\t        }\r\n");
      out.write("\t\t    },\r\n");
      out.write("\t\t     title: {\r\n");
      out.write("\t\t         text: '隐患报表',\r\n");
      out.write("\t\t         subtext: '直方图分析展示',\r\n");
      out.write("\t\t         x: 'center'\r\n");
      out.write("\t\t     },\r\n");
      out.write("\t\t     legend: {\r\n");
      out.write("\t\t         data:['部门']\r\n");
      out.write("\t\t     },\r\n");
      out.write("\t\t     xAxis: {\r\n");
      out.write("\t\t         data: []\r\n");
      out.write("\t\t     },\r\n");
      out.write("\t\t     yAxis: {},\r\n");
      out.write("\t\t     series: [{\r\n");
      out.write("\t\t    \t markLine : {\r\n");
      out.write("\t\t                lineStyle: {\r\n");
      out.write("\t\t                    normal: {\r\n");
      out.write("\t\t                        type: 'dashed'\r\n");
      out.write("\t\t                    }\r\n");
      out.write("\t\t                },\r\n");
      out.write("\t\t                data : [\r\n");
      out.write("\t\t                    [{type : 'min'}, {type : 'max'}]\r\n");
      out.write("\t\t                ]\r\n");
      out.write("\t\t            },\r\n");
      out.write("\t\t         name: '不符合项',\r\n");
      out.write("\t\t         type: 'bar', barWidth: '50'\r\n");
      out.write("\t\t     }]\r\n");
      out.write("\t\t }); \t \r\n");
      out.write("\t\t    myChart.on('mousedown', function (params) {\t\t   \r\n");
      out.write("\t\t    \t//点击时判断是否有子部门，如果没有子部门，就不显示部门\r\n");
      out.write("\t\t          if (params.event.event.which == 3) {\r\n");
      out.write("\t\t\t          var os = $(\"#main\").offset();\t\t\r\n");
      out.write("\t\t\t\t      var x=params.dataIndex;//判断所选择的柱子编号\r\n");
      out.write("\t\t\t\t      whichIndex=x;\r\n");
      out.write("\t\t\t    \t  childrenIndex=children[x];\r\n");
      out.write("\t\t\t\t      //根据已经选择的标准更新保存 不同的值\r\n");
      out.write("\t\t\t\t      if(type=='0'){\r\n");
      out.write("\t\t\t\t    \t  //childrenIndex=children[x];\r\n");
      out.write("\t\t\t\t      }\r\n");
      out.write("\t\t\t          if(type=='1'){\r\n");
      out.write("\t\t\t\t\t\t  departmentSnIndex=departmentSns[x];\r\n");
      out.write("\t\t\t\t\t\t  departmentNameIndex=departmentNames[x];\r\n");
      out.write("\t\t\t\t\t\t  //childrenIndex=children[x];\r\n");
      out.write("\t\t\t          \t}\r\n");
      out.write("\t\t\t          if(type=='2'){\r\n");
      out.write("\t\t\t\t\t\t  specialitySnIndex=specialitySns[x];\r\n");
      out.write("\t\t\t          }\r\n");
      out.write("\t\t\t          if(type=='3'){\r\n");
      out.write("\t\t\t\t\t\t  inconformityLevelSnIndex=inconformityLevelSns[x];\r\n");
      out.write("\t\t\t          }\r\n");
      out.write("\t\t\t\t\t\tif(childrenIndex!=0){\t\t\t\t   \r\n");
      out.write("\t\t\t\t\t\t\tif(inconformityLevelSnIndex==null & specialitySnIndex==null){\r\n");
      out.write("\t\t\t\t        \t  menu1.show({\r\n");
      out.write("\t\t\t\t\t\t            top: params.event.offsetY + os.top, \r\n");
      out.write("\t\t\t\t\t\t            left: params.event.offsetX + os.left \r\n");
      out.write("\t\t\t\t\t\t      });\r\n");
      out.write("\t\t\t\t    \t\t}\r\n");
      out.write("\t\t\t\t\t          if(inconformityLevelSnIndex==null&specialitySnIndex!=null){\r\n");
      out.write("\t\t\t\t\t        \t  menu2.show({\r\n");
      out.write("\t\t\t\t\t\t\t            top: params.event.offsetY + os.top, \r\n");
      out.write("\t\t\t\t\t\t\t            left: params.event.offsetX + os.left \r\n");
      out.write("\t\t\t\t\t\t\t      });\r\n");
      out.write("\t\t\t\t\t          }\r\n");
      out.write("\t\t\t\t\t          if(inconformityLevelSnIndex!=null&specialitySnIndex==null){\r\n");
      out.write("\t\t\t\t\t        \t  menu3.show({\r\n");
      out.write("\t\t\t\t\t\t\t            top: params.event.offsetY + os.top, \r\n");
      out.write("\t\t\t\t\t\t\t            left: params.event.offsetX + os.left \r\n");
      out.write("\t\t\t\t\t\t\t      });\r\n");
      out.write("\t\t\t\t\t          }\r\n");
      out.write("\t\t\t\t\t    \t\r\n");
      out.write("\t\t\t\t\t          if(inconformityLevelSnIndex!=null&specialitySnIndex!=null){\r\n");
      out.write("\t\t\t\t\t        \t  menu4.show({\r\n");
      out.write("\t\t\t\t\t\t\t            top: params.event.offsetY + os.top, \r\n");
      out.write("\t\t\t\t\t\t\t            left: params.event.offsetX + os.left \r\n");
      out.write("\t\t\t\t\t\t\t      });\r\n");
      out.write("\t\t\t\t\t          } \r\n");
      out.write("\t\t\t\t\t          \r\n");
      out.write("\t\t\t\t\t\t }\r\n");
      out.write("\t\t\t\t      else{\r\n");
      out.write("\t\t\t        \t  if(inconformityLevelSnIndex==null & specialitySnIndex==null){\r\n");
      out.write("\t\t\t\t        \t  menu5.show({\r\n");
      out.write("\t\t\t\t\t\t            top: params.event.offsetY + os.top, \r\n");
      out.write("\t\t\t\t\t\t            left: params.event.offsetX + os.left \r\n");
      out.write("\t\t\t\t\t\t      });\r\n");
      out.write("\t\t\t\t          }\r\n");
      out.write("\t\t\t\t          if(inconformityLevelSnIndex==null&specialitySnIndex!=null){\r\n");
      out.write("\t\t\t\t        \t  menu6.show({\r\n");
      out.write("\t\t\t\t\t\t            top: params.event.offsetY + os.top, \r\n");
      out.write("\t\t\t\t\t\t            left: params.event.offsetX + os.left \r\n");
      out.write("\t\t\t\t\t\t      });\r\n");
      out.write("\t\t\t\t          }\r\n");
      out.write("\t\t\t\t          if(inconformityLevelSnIndex!=null&specialitySnIndex==null){\r\n");
      out.write("\t\t\t\t        \t  menu7.show({\r\n");
      out.write("\t\t\t\t\t\t            top: params.event.offsetY + os.top, \r\n");
      out.write("\t\t\t\t\t\t            left: params.event.offsetX + os.left \r\n");
      out.write("\t\t\t\t\t\t      });\r\n");
      out.write("\t\t\t\t          }\r\n");
      out.write("\t\t\t\t          if(inconformityLevelSnIndex!=null&specialitySnIndex!=null){\r\n");
      out.write("\t\t\t\t        \t  menu8.show({\r\n");
      out.write("\t\t\t\t\t\t            top: params.event.offsetY + os.top, \r\n");
      out.write("\t\t\t\t\t\t            left: params.event.offsetX + os.left \r\n");
      out.write("\t\t\t\t\t\t      });\r\n");
      out.write("\t\t\t\t          } \r\n");
      out.write("\t\t\t\t   }\r\n");
      out.write("\t\t          }\r\n");
      out.write("\t\t    \r\n");
      out.write("\t     });\r\n");
      out.write("\t//弹出的datagrid\t    \r\n");
      out.write("\t    $('#dg').datagrid({\r\n");
      out.write("\t\t\tpageNumber: 1,\r\n");
      out.write("\t\t\tpagination:true,\r\n");
      out.write("\t        url: \"");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${pageContext.request.contextPath}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write("/report/detailAction\",\r\n");
      out.write("\t        rownumbers:true,\r\n");
      out.write("\t        fitColumns:true,\r\n");
      out.write("            toolbar:'#exportDiv',\r\n");
      out.write("\t        singleSelect:true,\r\n");
      out.write("\t        fit:true,\r\n");
      out.write("\t        nowrap:false,\r\n");
      out.write("\t        pageSize:10,\r\n");
      out.write("\t        pageList: [5, 10,15,20],\r\n");
      out.write("\t        columns:[[ \r\n");
      out.write("\t                  {field:'checkedDepartmentImplType',title:'贯标单位',width:50,align:'center'},\r\n");
      out.write("\t\t\t          {field:'dpartmentName',title:'被检部门',width:30,align:'center'},\r\n");
      out.write("\t\t\t          {field:'checkDateTime',title:'检查时间',width:40,align:'center'},    \r\n");
      out.write("\t\t\t          {field:'checkLocation',title:'检查地点',width:70,align:'center'},    \r\n");
      out.write("\t\t\t          {field:'problemDescription',title:'问题描述',width:100,align:'center'},\r\n");
      out.write("\t                  {field:'correctType',title:'整改类型',width:30,align:'center'},\r\n");
      out.write("\t\t\t          {field:'correctDeadline',title:'整改期限',width:40,align:'center'},\r\n");
      out.write("\t\t\t          {field:'correctProposal',title:'整改建议',width:60,align:'center'},\r\n");
      out.write("\t\t\t          {field:'hasCorrectConfirmed',title:'整改确认',width:25,align:'center',\r\n");
      out.write("\t\t\t        \t  styler: function(value,row,index){\r\n");
      out.write("\t\t\t\t  \t\t\t\tif (value == \"已整改确认\"){\r\n");
      out.write("\t\t\t\t  \t\t\t\t\treturn 'background-color:#1DA600;';\r\n");
      out.write("\t\t\t\t  \t\t\t\t}else{\r\n");
      out.write("\t\t\t\t  \t\t\t\t\treturn 'background-color:#ff5544;';\r\n");
      out.write("\t\t\t\t  \t\t\t\t}\r\n");
      out.write("\t\t\t\t\t\t  }\r\n");
      out.write("\t\t\t\t      },\r\n");
      out.write("\t\t\t          {field:'hasReviewed',title:'复查',width:30,align:'center',\r\n");
      out.write("\t\t\t        \t  styler: function(value,row,index){\r\n");
      out.write("\t\t\t        \t\t  \tif (value == \"已复查\"){\r\n");
      out.write("\t\t\t\t  \t\t\t\t\treturn 'background-color:#1DA600;';\r\n");
      out.write("\t\t\t\t  \t\t\t\t}else{\r\n");
      out.write("\t\t\t\t  \t\t\t\t\treturn 'background-color:#ff5544;';\r\n");
      out.write("\t\t\t\t  \t\t\t\t}\r\n");
      out.write("\t\t\t\t\t\t\t}\r\n");
      out.write("\t\t\t\t      },\r\n");
      out.write("\t\t\t          {field:'hasCorrectFinished',title:'整改完成',width:25,align:'center',\r\n");
      out.write("\t\t\t        \t  styler: function(value,row,index){\r\n");
      out.write("\t\t\t        \t\t  if( row.correctDeadline != null && row.correctDeadline < new Date() ){\r\n");
      out.write("\t\t\t        \t\t\t  return 'background-color:#ff5544;';\r\n");
      out.write("\t\t\t        \t\t  }else{\r\n");
      out.write("\t\t\t        \t\t  \tif (value == \"已整改完成\" ){\r\n");
      out.write("\t\t\t\t  \t\t\t\t\treturn 'background-color:#1DA600;';\r\n");
      out.write("\t\t\t\t  \t\t\t\t}else{\r\n");
      out.write("\t\t\t\t  \t\t\t\t\treturn '';\r\n");
      out.write("\t\t\t\t  \t\t\t\t}\r\n");
      out.write("\t\t\t        \t\t  }\r\n");
      out.write("\t\t\t\t\t\t  }\r\n");
      out.write("\t\t\t\t      },\r\n");
      out.write("\t\t\t          {field:'attachments',title:'附件',width:25,align:'center',\r\n");
      out.write("\t\t\t        \t  formatter: function(value,row,index){\r\n");
      out.write("\t\t\t\t  \t\t\t\tif (value!=0){\r\n");
      out.write("\t\t\t\t  \t\t\t\t\treturn \"<a href='javascript:;' onclick=showAttachments()>附件[\"+value+\"]</a>\";\r\n");
      out.write("\t\t\t\t  \t\t\t\t} else {\r\n");
      out.write("\t\t\t\t  \t\t\t\t\treturn \"<a href='javascript:;' onclick=showAttachments()>附件[0]</a>\";\r\n");
      out.write("\t\t\t\t  \t\t\t\t}\r\n");
      out.write("\t\t\t  \t\t  }},\r\n");
      out.write("\t\t\t          {field:'checkType',title:'检查类型',width:65,align:'center',hidden:true,\r\n");
      out.write("\t\t\t        \t  formatter: function(value,row,index){\r\n");
      out.write("\t\t\t        \t\t  if(value!=null && value!=\"\"){\r\n");
      out.write("\t\t\t        \t\t\t  checkTypeValue[index]=value;\r\n");
      out.write("\t\t\t        \t\t  }else{\r\n");
      out.write("\t\t\t        \t\t\t  checkTypeValue[index]=\"无\";\r\n");
      out.write("\t\t\t        \t\t  }\r\n");
      out.write("\t\t\t  \t\t  }},\r\n");
      out.write("\t\t\t          {field:'systemAudit',title:'审核类型',width:65,align:'center',hidden:true,\r\n");
      out.write("\t\t\t        \t  formatter: function(value,row,index){\r\n");
      out.write("\t\t\t        \t\t  if(value!=null && value!=\"\"){\r\n");
      out.write("\t\t\t        \t\t\t  systemAuditValue[index]=value;\r\n");
      out.write("\t\t\t        \t\t  }else{\r\n");
      out.write("\t\t\t        \t\t\t  systemAuditValue[index]=\"无\";\r\n");
      out.write("\t\t\t        \t\t  }\r\n");
      out.write("\t\t\t  \t\t  }},\r\n");
      out.write("\t\t\t          {field:'checkerFrom',title:'检查人来自',width:100,align:'center',hidden:true,\r\n");
      out.write("\t\t\t        \t  formatter: function(value,row,index){\r\n");
      out.write("\t\t\t        \t\t  if(value!=null && value!=\"\"){\r\n");
      out.write("\t\t\t        \t\t\t  checkerFromValue[index]=value;\r\n");
      out.write("\t\t\t        \t\t  }else{\r\n");
      out.write("\t\t\t        \t\t\t  checkerFromValue[index]=\"无\";\r\n");
      out.write("\t\t\t        \t\t  }\r\n");
      out.write("\t\t\t  \t\t  }},    \r\n");
      out.write("\t\t\t          {field:'inconformityItemSn',title:'不符合项编号',width:100,align:'center',hidden:true,\r\n");
      out.write("\t\t\t        \t  formatter: function(value,row,index){\r\n");
      out.write("\t\t\t        \t\t  if(value!=null && value!=\"\"){\r\n");
      out.write("\t\t\t        \t\t\t  inconformityItemSnValue[index]=value;\r\n");
      out.write("\t\t\t        \t\t  }else{\r\n");
      out.write("\t\t\t        \t\t\t  inconformityItemSnValue[index]=\"无\";\r\n");
      out.write("\t\t\t        \t\t  }\r\n");
      out.write("\t\t\t  \t\t  }},\r\n");
      out.write("\t\t\t          {field:'checkers',title:'检查人',width:100,align:'center',hidden:true,\r\n");
      out.write("\t\t\t        \t  formatter: function(value,row,index){\r\n");
      out.write("\t\t\t        \t\t  if(value!=null && value!=\"\"){\r\n");
      out.write("\t\t\t        \t\t\t  checkersValue[index]=value;\r\n");
      out.write("\t\t\t        \t\t  }else{\r\n");
      out.write("\t\t\t        \t\t\t  checkersValue[index]=\"无\";\r\n");
      out.write("\t\t\t        \t\t  }\r\n");
      out.write("\t\t\t  \t\t  }},        \r\n");
      out.write("\t\t\t          {field:'inconformityItemNature',title:'不符合项性质',width:120,align:'center',hidden:true,\r\n");
      out.write("\t\t\t        \t  formatter: function(value,row,index){\r\n");
      out.write("\t\t\t        \t\t  if(value!=null && value!=\"\"){\r\n");
      out.write("\t\t\t        \t\t\t  inconformityItemNatureValue[index]=value;\r\n");
      out.write("\t\t\t        \t\t  }else{\r\n");
      out.write("\t\t\t        \t\t\t  inconformityItemNatureValue[index]=\"无\";\r\n");
      out.write("\t\t\t        \t\t  }\r\n");
      out.write("\t\t\t  \t\t  }},\r\n");
      out.write("\t\t\t          {field:'machine',title:'机',width:100,align:'center',hidden:true,\r\n");
      out.write("\t\t\t        \t  formatter: function(value,row,index){\r\n");
      out.write("\t\t\t        \t\t  if(value!=null && value!=\"\"){\r\n");
      out.write("\t\t\t        \t\t\t  machineValue[index]=value;\r\n");
      out.write("\t\t\t        \t\t  }else{\r\n");
      out.write("\t\t\t        \t\t\t  machineValue[index]=\"无\";\r\n");
      out.write("\t\t\t        \t\t  }\r\n");
      out.write("\t\t\t  \t\t  }},\r\n");
      out.write("\t\t\t          {field:'standardIndex',title:'指标',width:100,align:'center',hidden:true,\r\n");
      out.write("\t\t\t        \t  formatter: function(value,row,index){\r\n");
      out.write("\t\t\t        \t\t  if(value!=null && value!=\"\"){\r\n");
      out.write("\t\t\t        \t\t  \t\tstandardIndexValue[index]=value;\r\n");
      out.write("\t\t\t        \t\t  }else{\r\n");
      out.write("\t\t\t\t\t\t\t\t\tstandardIndexValue[index]=\"无\";\r\n");
      out.write("\t\t\t        \t\t  }\r\n");
      out.write("\t\t\t  \t\t  }},\r\n");
      out.write("\t\t\t          {field:'deductPoints',title:'扣分',width:100,align:'center',hidden:true,\r\n");
      out.write("\t\t\t        \t  formatter: function(value,row,index){\r\n");
      out.write("\t\t\t        \t\t  if(value!=null && value!=\"\"){\r\n");
      out.write("\t\t\t        \t\t\t  deductPointsValue[index]=value;\r\n");
      out.write("\t\t\t        \t\t  }else{\r\n");
      out.write("\t\t\t        \t\t\t  deductPointsValue[index]=\"无\";\r\n");
      out.write("\t\t\t        \t\t  }\r\n");
      out.write("\t\t\t  \t\t  }},\r\n");
      out.write("\t\t\t          {field:'hazrd',title:'对应的危险源',width:120,align:'center',hidden:true,\r\n");
      out.write("\t\t\t        \t  formatter: function(value,row,index){\r\n");
      out.write("\t\t\t        \t\t  if(value!=null && value!=\"\"){\r\n");
      out.write("\t\t\t        \t\t\t  hazardValue[index]=value;\r\n");
      out.write("\t\t\t        \t\t  }else{\r\n");
      out.write("\t\t\t        \t\t\t  hazardValue[index]=\"无\";\r\n");
      out.write("\t\t\t        \t\t  }\r\n");
      out.write("\t\t\t  \t\t  }},\r\n");
      out.write("\t\t\t          {field:'speciality',title:'所属专业',width:100,align:'center',hidden:true,\r\n");
      out.write("\t\t\t        \t  formatter: function(value,row,index){\r\n");
      out.write("\t\t\t        \t\t  if(value!=null && value!=\"\"){\r\n");
      out.write("\t\t\t        \t\t\t  specialityValue[index]=value;\r\n");
      out.write("\t\t\t        \t\t  }else{\r\n");
      out.write("\t\t\t        \t\t\t  specialityValue[index]=\"无\";\r\n");
      out.write("\t\t\t        \t\t  }\r\n");
      out.write("\t\t\t  \t\t  }},\r\n");
      out.write("\t\t\t          {field:'inconformityLevel',title:'不符合项等级',width:120,align:'center',hidden:true,\r\n");
      out.write("\t\t\t        \t  formatter: function(value,row,index){\r\n");
      out.write("\t\t\t        \t\t  if(value!=null && value!=\"\"){\r\n");
      out.write("\t\t\t        \t\t\t  inconformityLevelValue[index]=value;\r\n");
      out.write("\t\t\t        \t\t  }else{\r\n");
      out.write("\t\t\t        \t\t\t  inconformityLevelValue[index]=\"无\";\r\n");
      out.write("\t\t\t        \t\t  }\r\n");
      out.write("\t\t\t  \t\t  }},\r\n");
      out.write("\t\t\t          {field:'correctPrincipal',title:'整改负责人',width:120,align:'center',hidden:true,\r\n");
      out.write("\t\t\t        \t  formatter: function(value,row,index){\r\n");
      out.write("\t\t\t        \t\t  if(value!=null && value!=\"\"){\r\n");
      out.write("\t\t\t        \t\t\t  correctPrincipalValue[index]=value;\r\n");
      out.write("\t\t\t        \t\t  }else{\r\n");
      out.write("\t\t\t        \t\t\t  correctPrincipalValue[index]=\"无\";\r\n");
      out.write("\t\t\t        \t\t  }\r\n");
      out.write("\t\t\t  \t\t  }}\r\n");
      out.write("\t\t\t     ]],\r\n");
      out.write("\t              onBeforeLoad:function(){\r\n");
      out.write("\t            \t  if(itemSn1!=0){\r\n");
      out.write("\t            \t\t  return false;\r\n");
      out.write("\t            \t  }else{\r\n");
      out.write("\t            \t\t  return true;\r\n");
      out.write("\t            \t  }\r\n");
      out.write("\t              },\r\n");
      out.write("\t\t\t\t\tview: detailview, \r\n");
      out.write("\t\t\t\t\tdetailFormatter: function(rowIndex, row){\r\n");
      out.write("\t\t\t\t\treturn '<table style=\"border:1\"><tr>' + \r\n");
      out.write("\t\t\t\t\t'<td style=\"width:90px;text-align:center\">'+'不符合项编号：' + '</td>' + \r\n");
      out.write("\t\t\t\t\t'<td style=\"width:200px;text-align:center\">' + \r\n");
      out.write("\t\t\t\t\t'<p>' + inconformityItemSnValue[rowIndex] + '</p>' + \r\n");
      out.write("\t\t\t\t\t'</td>' +\r\n");
      out.write("\t\t\t\t\t'<td style=\"width:90px;text-align:center\">'+'不符合项性质：' + '</td>' + \r\n");
      out.write("\t\t\t\t\t'<td style=\"width:100px;text-align:center\">' + \r\n");
      out.write("\t\t\t\t\t'<p>' + inconformityItemNatureValue[rowIndex] + '</p>' + \r\n");
      out.write("\t\t\t\t\t'</td>' +\r\n");
      out.write("\t\t\t\t\t'<td style=\"width:90px;text-align:center\">'+'不符合项等级：' + '</td>' + \r\n");
      out.write("\t\t\t\t\t'<td style=\"width:100px;text-align:center\">' + \r\n");
      out.write("\t\t\t\t\t'<p>' + inconformityLevelValue[rowIndex] + '</p>' + \r\n");
      out.write("\t\t\t\t\t'</td>' +\r\n");
      out.write("\t\t\t\t\t'<td style=\"width:90px;text-align:center\">'+'检查类型：' + '</td>' + \r\n");
      out.write("\t\t\t\t\t'<td style=\"width:100px;text-align:center\">' + \r\n");
      out.write("\t\t\t\t\t'<p>' + checkTypeValue[rowIndex] + '</p>' + \r\n");
      out.write("\t\t\t\t\t'</td>' +\r\n");
      out.write("\t\t\t\t\t'</tr><tr>' +\r\n");
      out.write("\t\t\t\t\t\r\n");
      out.write("\t\t\t\t\t'<td style=\"width:90px;text-align:center\">'+'检查人：' + '</td>' + \r\n");
      out.write("\t\t\t\t\t'<td style=\"width:200px;text-align:center\">' + \r\n");
      out.write("\t\t\t\t\t'<p>' + checkersValue[rowIndex] + '</p>' + \r\n");
      out.write("\t\t\t\t\t'</td>' +\r\n");
      out.write("\t\t\t\t\t'<td style=\"width:90px;text-align:center\">'+'整改负责人：' + '</td>' + \r\n");
      out.write("\t\t\t\t\t'<td style=\"width:100px;text-align:center\">' + \r\n");
      out.write("\t\t\t\t\t'<p>' + correctPrincipalValue[rowIndex] + '</p>' + \r\n");
      out.write("\t\t\t\t\t'</td>' +\r\n");
      out.write("\t\t\t\t\t'<td style=\"width:90px;text-align:center\">'+'扣分项：' + '</td>' + \r\n");
      out.write("\t\t\t\t\t'<td style=\"width:100px;text-align:center\">' + \r\n");
      out.write("\t\t\t\t\t'<p>' + deductPointsValue[rowIndex] + '</p>' + \r\n");
      out.write("\t\t\t\t\t'</td>' +\r\n");
      out.write("\t\t\t\t\t'<td style=\"width:90px;text-align:center\">'+'审核类型：' + '</td>' + \r\n");
      out.write("\t\t\t\t\t'<td style=\"width:100px;text-align:center\">' + \r\n");
      out.write("\t\t\t\t\t'<p>' + systemAuditValue[rowIndex] + '</p>' + \r\n");
      out.write("\t\t\t\t\t'</td>' +\r\n");
      out.write("\t\t\t\t\t'</tr><tr>' +\r\n");
      out.write("\t\t\t\t\t\r\n");
      out.write("\t\t\t\t\t'<td style=\"width:90px;text-align:center\">'+'危险源：' + '</td>' + \r\n");
      out.write("\t\t\t\t\t'<td style=\"width:200px;text-align:center\">' + \r\n");
      out.write("\t\t\t\t\t'<p>' + hazardValue[rowIndex] + '</p>' + \r\n");
      out.write("\t\t\t\t\t'</td>' +\r\n");
      out.write("\t\t\t\t\t'<td style=\"width:90px;text-align:center\">'+'专业：' + '</td>' + \r\n");
      out.write("\t\t\t\t\t'<td style=\"width:100px;text-align:center\">' + \r\n");
      out.write("\t\t\t\t\t'<p>' + specialityValue[rowIndex] + '</p>' + \r\n");
      out.write("\t\t\t\t\t'</td>' +\r\n");
      out.write("\t\t\t\t\t'<td style=\"width:90px;text-align:center\">'+'机器：' + '</td>' + \r\n");
      out.write("\t\t\t\t\t'<td style=\"width:100px;text-align:center\">' + \r\n");
      out.write("\t\t\t\t\t'<p>' + machineValue[rowIndex] + '</p>' + \r\n");
      out.write("\t\t\t\t\t'</td>' +\r\n");
      out.write("\t\t\t\t\t'<td style=\"width:90px;text-align:center\">'+'检查人来自：' + '</td>' + \r\n");
      out.write("\t\t\t\t\t'<td style=\"width:100px;text-align:center\">' + \r\n");
      out.write("\t\t\t\t\t'<p>' + checkerFromValue[rowIndex] + '</p>' + \r\n");
      out.write("\t\t\t\t\t'</td>' +\r\n");
      out.write("\t\t\t\t\t'</tr><tr>' +\r\n");
      out.write("\t\t\t\t\t\r\n");
      out.write("\t\t\t\t\t'<td style=\"width:50px;text-align:center\">'+'指标：' + '</td>' + \r\n");
      out.write("\t\t\t\t\t'<td style=\"width:100px;text-align:center\" colspan=\"7\">' + \r\n");
      out.write("\t\t\t\t\t'<p>' + standardIndexValue[rowIndex] + '</p>' + \r\n");
      out.write("\t\t\t\t\t'</td>' +\r\n");
      out.write("\t\t\t\t\t'</tr></table>'; \r\n");
      out.write("\t\t\t\t\t}\r\n");
      out.write("\t   });\r\n");
      out.write("\r\n");
      out.write("\t});\r\n");
      out.write("\t<!--展示指标详情-附件-->\r\n");
      out.write("    function showAttachments(){\r\n");
      out.write("    \t$('#winAttachments').window({\r\n");
      out.write("\t\t\ttitle:\"附件详情\",\r\n");
      out.write("\t\t\twidth:400,\r\n");
      out.write("\t\t\theight:300,\r\n");
      out.write("\t\t\tcontent:'<iframe src=\"");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${pageContext.request.contextPath}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write("/inconformity/item/query/inconformity-query/compositive_show\" frameborder=\"0\" width=\"100%\" height=\"100%\" />'\r\n");
      out.write("\t\t});\r\n");
      out.write("    };\r\n");
      out.write("\t<!--显示隐藏日期选择器-->\r\n");
      out.write("\tfunction timebtnchange(){\r\n");
      out.write("\t\t$('#daydiv').hide();\r\n");
      out.write("\t\t$(\"#container\" ).hide();\r\n");
      out.write("\t\t$(\"#halfyeardiv\" ).hide();\r\n");
      out.write("\t\t$(\"#yeardiv\" ).hide();\r\n");
      out.write("\t\t$(\"#monthdiv\" ).hide();\r\n");
      out.write("\t\t$(\"#seasondiv\" ).hide();\r\n");
      out.write("\t};\r\n");
      out.write("\tfunction loadechart(){\r\n");
      out.write("\t\t//判断选择的哪个时间段的报表拼接不同的下拉框值\r\n");
      out.write("\t\tif(showtime==3){\r\n");
      out.write("\t\t\tbegin=year+'-'+month+'-01 00:00:00';\r\n");
      out.write("\t\t\tend=year+'-'+month+'-31 23:59:59'\r\n");
      out.write("\t\t}\r\n");
      out.write("\t\tif(showtime==4){\r\n");
      out.write("\t\t\tbegin=year+'-'+season+'-01 00:00:00';\r\n");
      out.write("\t\t\tvar x=parseInt(season)+2;\r\n");
      out.write("\t\t\tend=year+'-'+x+'-31 23:59:59'\r\n");
      out.write("\t\t}\r\n");
      out.write("\t\tif(showtime==5){\r\n");
      out.write("\t\t\tbegin=year+'-'+halfyear+'-01 00:00:00';\r\n");
      out.write("\t\t\tvar x=parseInt(halfyear)+5;\r\n");
      out.write("\t\t\tend=year+'-'+x+'-31 23:59:59'\r\n");
      out.write("\t\t}\r\n");
      out.write("\t\tif(showtime==6){\r\n");
      out.write("\t\t\tbegin=year+'-01-01 00:00:00';\r\n");
      out.write("\t\t\tend=year+'-12-31 23:59:59'\r\n");
      out.write("\t\t}\r\n");
      out.write("        //右键选择菜单\r\n");
      out.write("  \t\tif(event.srcElement.innerText!=null){\r\n");
      out.write("  \t    \titemSn1 =event.srcElement.innerText;\r\n");
      out.write("  \t    \titem =event.srcElement.innerText;\r\n");
      out.write("  \t    \tif(item=='部门'||item=='专业'||item=='危险等级'){\r\n");
      out.write("\t\t\t\titemSn1=0;\r\n");
      out.write("\t\t\t\tclickEchart=\"1\";\r\n");
      out.write("\t\t\t    clickEchartBefore=\"1\";\r\n");
      out.write("\t\t\t\tdepartmentTypeSn=null;\r\n");
      out.write("  \t    \t\t $('#cc').combotree('setValue',{id: departmentSnIndex,text:departmentNameIndex});\r\n");
      out.write(" \t\t\t    $.post(\"");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${pageContext.request.contextPath}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write("/report/typeReport\",{departmentSn:departmentSnIndex},function(rv){\r\n");
      out.write(" \t\t\t\t\t$(\"#typebtns\").empty();\r\n");
      out.write(" \t\t\t\t\tif(rv.length>0){\t\t\t\t\t\r\n");
      out.write(" \t\t\t\t\t\t$(\"#typebtns\").append(\"<span style='float:left;font-weight:bold;margin-top:5px'>\"+\"部门类型：\"+\"</span>\");\r\n");
      out.write(" \t\t\t\t\t}\r\n");
      out.write(" \t\t\t\t\tfor (var i = 0;i < rv.length;i++){\r\n");
      out.write(" \t\t\t\t\t\t$(\"#typebtns\").append(\"<a class='btn btn-default' data-options='plain:true' data='\" + rv[i].value+\"'>\"+ rv[i].text+\"</a>\");\t\t\t\t\t\r\n");
      out.write(" \t\t\t\t\t}\r\n");
      out.write(" \t\t\t\t\t$.parser.parse($('#typebtns').parent());\r\n");
      out.write(" \t\t\t\t\titemSn1=1;\r\n");
      out.write(" \t\t\t\t\t<!--部门类型按钮点击 -->\r\n");
      out.write(" \t\t\t\t\t$(\"#typebtns a\").click(function(){\r\n");
      out.write(" \t\t\t\t\t\tif($(this).hasClass(\"active\"))\r\n");
      out.write(" \t\t\t\t    \t{\r\n");
      out.write(" \t\t\t\t       \t\t$(this).removeClass(\"active\");\r\n");
      out.write(" \t\t\t\t       \t\tdepartmentTypeSn=null;\r\n");
      out.write(" \t\t\t\t    \t}\r\n");
      out.write(" \t\t\t\t    \telse\r\n");
      out.write(" \t\t\t\t    \t{\r\n");
      out.write(" \t\t\t\t\t\t\t$(\"#typebtns a\").removeClass(\"active\");\r\n");
      out.write(" \t\t\t\t\t        $(this).addClass(\"active\");\r\n");
      out.write(" \t\t\t\t\t\t\tdepartmentTypeSn=$(this).attr(\"data\");\r\n");
      out.write(" \t\t\t\t        }\r\n");
      out.write(" \t \t\t\t\t\tloadechart();\t\r\n");
      out.write(" \t\t\t\t\t});\t\t\t\r\n");
      out.write(" \t\t\t\t\titem=null;\r\n");
      out.write(" \t\t\t\t\tloadechart();\t\t\r\n");
      out.write(" \t\t\t\t},'json'); \r\n");
      out.write("  \t    \t}\r\n");
      out.write("\t    \tif(item=='部门'){\r\n");
      out.write("\t\t\t\titemSn=\"1\";\r\n");
      out.write("\t\t\t\t$('#xtypebtns a').removeClass(\"active\");\r\n");
      out.write("\t\t\t    $('#deptbtn').addClass(\"active\");\r\n");
      out.write("\t    \t}\r\n");
      out.write("\t\t\tif(item=='专业'){\r\n");
      out.write("\t\t\t\titemSn=\"2\";\t\t\t\t\t \r\n");
      out.write("\t\t\t\t$('#xtypebtns a').removeClass(\"active\");\r\n");
      out.write("\t\t\t    $('#spbtn').addClass(\"active\");\r\n");
      out.write("\t\t\t}\r\n");
      out.write("\t    \tif(item=='危险等级'){\r\n");
      out.write("\t\t\t\titemSn=\"3\";\r\n");
      out.write("\t\t\t\t$('#xtypebtns a').removeClass(\"active\");\r\n");
      out.write("\t\t\t    $('#levelbtn').addClass(\"active\");\r\n");
      out.write("\t    \t}\r\n");
      out.write("\t    \tif(item=='查看明细'){\r\n");
      out.write("\t    \t\t//显示对应的不符合项数据\r\n");
      out.write("\t    \t\titemSn1=0;\r\n");
      out.write("    \t\t\t$('#win').window('open');\r\n");
      out.write("\t    \t\t$('#dg').datagrid('load',{\r\n");
      out.write("\t\t    \t\tdepartmentTypeSn:departmentTypeSn,\r\n");
      out.write("\t\t    \t\tbegin:begin,\r\n");
      out.write("\t\t    \t\tend:end,\r\n");
      out.write("\t\t    \t\tspecialitySnIndex:specialitySnIndex,\r\n");
      out.write("\t\t    \t\tinconformityLevelSnIndex:inconformityLevelSnIndex,\r\n");
      out.write("\t\t    \t\tdepartmentSnIndex:departmentSnIndex,\r\n");
      out.write("\t\t    \t\tdepartmentTypeSn:departmentTypeSn\r\n");
      out.write("    \t\t\t});\r\n");
      out.write("\t    \t} \r\n");
      out.write("  \t\t}\r\n");
      out.write("        if(itemSn1!='0'){\r\n");
      out.write("\t\t\t$.get('");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${pageContext.request.contextPath}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write("/report/reportReport',{departmentTypeSn:departmentTypeSn,begin:begin,end:end,specialitySnIndex:specialitySnIndex,inconformityLevelSnIndex:inconformityLevelSnIndex,departmentSnIndex:departmentSnIndex,itemSn:itemSn,clickEchart:clickEchart},function (data) {\r\n");
      out.write("\t\t\t     // 填入数据\r\n");
      out.write("\t\t\t     specialitySns=data.specialitySns;\r\n");
      out.write("\t\t\t     inconformityLevelSns=data.inconformityLevelSns;\r\n");
      out.write("\t\t\t     departmentSns=data.departmentSns;\r\n");
      out.write("\t\t\t     departmentNames=data.departmentName;\r\n");
      out.write("\t\t\t     type=data.type;\r\n");
      out.write("\t\t\t     children=data.children;\r\n");
      out.write("\t\t\t     //清空判断是否下钻的选择\r\n");
      out.write("\t\t\t     clickEchart=\"\";\r\n");
      out.write("\t\t\t     myChart.setOption({\r\n");
      out.write("\t\t\t    \t grid:{\r\n");
      out.write("\t\t\t    \t\t\tx:50,\r\n");
      out.write("\t\t\t    \t\t\ty:50,\r\n");
      out.write("\t\t\t    \t\t\tx2:50,\r\n");
      out.write("\t\t\t    \t\t\ty2: 150\t\t\t    \t\t\t\r\n");
      out.write("\t\t\t    \t },\r\n");
      out.write("\t\t\t         xAxis: {\r\n");
      out.write("\t\t\t        \tdata: data.departmentName,\r\n");
      out.write("\t\t\t        \taxisLabel: {rotate:0, show: true, margin:2,interval:0,\r\n");
      out.write("\t\t\t        \t\tformatter:function(val){\r\n");
      out.write("\t\t\t        \t\t\tif(val!=null){\r\n");
      out.write("\t\t\t\t        \t\t    return val.split(\"\").join(\"\\n\");\r\n");
      out.write("\t\t\t        \t\t\t}\r\n");
      out.write("\t\t                        //只显示前两个字符，鼠标放上去显示全\r\n");
      out.write("\t\t                        //return value.substr(0,6)\r\n");
      out.write("\t\t\t        \t\t}\t\r\n");
      out.write("\t\t\t        \t}\r\n");
      out.write("\t\t\t         },\t\r\n");
      out.write("\t\t\t         series: [{\r\n");
      out.write("\t\t\t             name: '按照部门不符合项',\r\n");
      out.write("\t\t\t             data:  data.inconformityItemCount\r\n");
      out.write("\t\t\t         }]\r\n");
      out.write("\t\t\t     });\r\n");
      out.write("\t\t\t   //用于使chart自适应高度和宽度\r\n");
      out.write("\t\t\t\twindow.onresize = myChart.resize;\r\n");
      out.write("\t\t},'json'); \r\n");
      out.write("\t}\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("//点击导出\r\n");
      out.write("function exportexcel(){ \r\n");
      out.write("\tvar url =\"");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${pageContext.request.contextPath}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write("/report/exportexcelReport?itemSn=\"+itemSn+\"&begin=\"+begin+\"&end=\"+end+\"&specialitySnIndex=\"+specialitySnIndex+\"&inconformityLevelSnIndex=\"+inconformityLevelSnIndex+\"&departmentSnIndex=\"+departmentSnIndex+\"&departmentTypeSn=\"+departmentTypeSn+\"&clickEchart=\"+clickEchartBefore+\"&showtime=\"+showtime;\r\n");
      out.write("\t$('<form method=\"post\" action=\"' + url + '\"></form>').appendTo('body').submit().remove();\r\n");
      out.write("};\r\n");
      out.write("\t</script>\r\n");
      out.write("</body>\r\n");
      out.write("</html>");
    } catch (java.lang.Throwable t) {
      if (!(t instanceof javax.servlet.jsp.SkipPageException)){
        out = _jspx_out;
        if (out != null && out.getBufferSize() != 0)
          try {
            if (response.isCommitted()) {
              out.flush();
            } else {
              out.clearBuffer();
            }
          } catch (java.io.IOException e) {}
        if (_jspx_page_context != null) _jspx_page_context.handlePageException(t);
        else throw new ServletException(t);
      }
    } finally {
      _jspxFactory.releasePageContext(_jspx_page_context);
    }
  }
}
