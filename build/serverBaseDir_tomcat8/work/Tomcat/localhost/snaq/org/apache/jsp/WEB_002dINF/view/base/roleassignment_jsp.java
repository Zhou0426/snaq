/*
 * Generated by the Jasper component of Apache Tomcat
 * Version: Apache Tomcat/8.0.23
 * Generated at: 2017-07-05 14:23:36 UTC
 * Note: The last modified time of this file was set to
 *       the last modified time of the source file after
 *       generation to assist with modification tracking.
 */
package org.apache.jsp.WEB_002dINF.view.base;

import javax.servlet.*;
import javax.servlet.http.*;
import javax.servlet.jsp.*;

public final class roleassignment_jsp extends org.apache.jasper.runtime.HttpJspBase
    implements org.apache.jasper.runtime.JspSourceDependent,
                 org.apache.jasper.runtime.JspSourceImports {

  private static final javax.servlet.jsp.JspFactory _jspxFactory =
          javax.servlet.jsp.JspFactory.getDefaultFactory();

  private static java.util.Map<java.lang.String,java.lang.Long> _jspx_dependants;

  private static final java.util.Set<java.lang.String> _jspx_imports_packages;

  private static final java.util.Set<java.lang.String> _jspx_imports_classes;

  static {
    _jspx_imports_packages = new java.util.HashSet<>();
    _jspx_imports_packages.add("javax.servlet");
    _jspx_imports_packages.add("javax.servlet.http");
    _jspx_imports_packages.add("javax.servlet.jsp");
    _jspx_imports_classes = null;
  }

  private javax.el.ExpressionFactory _el_expressionfactory;
  private org.apache.tomcat.InstanceManager _jsp_instancemanager;

  public java.util.Map<java.lang.String,java.lang.Long> getDependants() {
    return _jspx_dependants;
  }

  public java.util.Set<java.lang.String> getPackageImports() {
    return _jspx_imports_packages;
  }

  public java.util.Set<java.lang.String> getClassImports() {
    return _jspx_imports_classes;
  }

  public void _jspInit() {
    _el_expressionfactory = _jspxFactory.getJspApplicationContext(getServletConfig().getServletContext()).getExpressionFactory();
    _jsp_instancemanager = org.apache.jasper.runtime.InstanceManagerFactory.getInstanceManager(getServletConfig());
  }

  public void _jspDestroy() {
  }

  public void _jspService(final javax.servlet.http.HttpServletRequest request, final javax.servlet.http.HttpServletResponse response)
        throws java.io.IOException, javax.servlet.ServletException {

final java.lang.String _jspx_method = request.getMethod();
if (!"GET".equals(_jspx_method) && !"POST".equals(_jspx_method) && !"HEAD".equals(_jspx_method) && !javax.servlet.DispatcherType.ERROR.equals(request.getDispatcherType())) {
response.sendError(HttpServletResponse.SC_METHOD_NOT_ALLOWED, "JSPs only permit GET POST or HEAD");
return;
}

    final javax.servlet.jsp.PageContext pageContext;
    javax.servlet.http.HttpSession session = null;
    final javax.servlet.ServletContext application;
    final javax.servlet.ServletConfig config;
    javax.servlet.jsp.JspWriter out = null;
    final java.lang.Object page = this;
    javax.servlet.jsp.JspWriter _jspx_out = null;
    javax.servlet.jsp.PageContext _jspx_page_context = null;


    try {
      response.setContentType("text/html; charset=UTF-8");
      pageContext = _jspxFactory.getPageContext(this, request, response,
      			null, true, 8192, true);
      _jspx_page_context = pageContext;
      application = pageContext.getServletContext();
      config = pageContext.getServletConfig();
      session = pageContext.getSession();
      out = pageContext.getOut();
      _jspx_out = out;

      out.write("\r\n");
      out.write("<!DOCTYPE html PUBLIC \"-//W3C//DTD HTML 4.01 Transitional//EN\" \"http://www.w3.org/TR/html4/loose.dtd\">\r\n");
      out.write("<html>\r\n");
      out.write("<head>\r\n");
      out.write("<meta http-equiv=\"Content-Type\" content=\"text/html; charset=UTF-8\">\r\n");
      out.write("<title>神华宁煤安全风险预控管理信息系统</title>\r\n");
      out.write("<link rel=\"stylesheet\" type=\"text/css\" href=\"");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${pageContext.request.contextPath}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write("/easyui/themes/default/easyui.css\">\r\n");
      out.write("<link rel=\"stylesheet\" type=\"text/css\" href=\"");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${pageContext.request.contextPath}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write("/easyui/themes/icon.css\">\r\n");
      out.write("<link rel=\"stylesheet\" type=\"text/css\" href=\"");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${pageContext.request.contextPath}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write("/css/login.css\">\r\n");
      out.write("<script type=\"text/javascript\" src=\"");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${pageContext.request.contextPath}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write("/easyui/jquery.min.js\"></script>\r\n");
      out.write("<script type=\"text/javascript\" src=\"");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${pageContext.request.contextPath}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write("/easyui/jquery.easyui.min.js\"></script>\r\n");
      out.write("<script type=\"text/javascript\" src=\"");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${pageContext.request.contextPath}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write("/easyui/jquery.easyui.mobile.js\"></script>\r\n");
      out.write("<script type=\"text/javascript\" src=\"");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${pageContext.request.contextPath}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write("/easyui/easyloader.js\"></script>\r\n");
      out.write("<script type=\"text/javascript\" src=\"");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${pageContext.request.contextPath}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write("/easyui/locale/easyui-lang-zh_CN.js\"></script>\r\n");
      out.write("<script>\r\n");
      out.write("\r\n");
      out.write("//权限管理\r\n");
      out.write("var str=\"");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${sessionScope['permissions']}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write("\";\r\n");
      out.write("$(function () {\r\n");
      out.write("\tvar roleSn;\r\n");
      out.write("\t<!--第一个数据网络-->\r\n");
      out.write("\t$('#dg').datagrid({       \r\n");
      out.write("\t\tpageNumber: 1,\r\n");
      out.write("\t\tpagination:true,\r\n");
      out.write("        url: \"");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${pageContext.request.contextPath}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write("/role/roleMenu?deleteornot=0\",\r\n");
      out.write("        rownumbers:true,\r\n");
      out.write("        fitColumns:true,\r\n");
      out.write("        pageSize:20,\r\n");
      out.write("        fit:true,\r\n");
      out.write("        nowrap:false,\r\n");
      out.write("        singleSelect:true,\r\n");
      out.write("        pageList: [5, 10,15,20],\r\n");
      out.write("        loadMsg:'正在载入您拥有的角色菜单...',\r\n");
      out.write("        loadFilter: function(data){\r\n");
      out.write("    \t\treturn eval('(' + data + ')');\r\n");
      out.write("    \t},\r\n");
      out.write("        toolbar:[{\r\n");
      out.write("\t\t\t\ticonCls: 'icon-add',\r\n");
      out.write("\t\t\t\ttext:'增加角色',\r\n");
      out.write("\t\t\t\tid:'addroletool',\r\n");
      out.write("\t\t\t\thandler: function()\r\n");
      out.write("\t  \t\t\t\t{\r\n");
      out.write("\t\t\t\t\t\tif(str.indexOf('140304')==-1){\r\n");
      out.write("\t\t\t\t\t\t\t$('#addroletool').css('display','none');\r\n");
      out.write("\t\t\t\t\t\t}else{\r\n");
      out.write("\t\t\t\t\t\t\t$('#formcrud').form('reset');\r\n");
      out.write("\t\t\t\t\t    \t$('#addroleformbtn').show();\r\n");
      out.write("\t\t\t\t\t    \t$('#roleSnInput').textbox('readonly',false);\r\n");
      out.write("\t\t\t    \t\t\t$('#updateroleformbtn').hide();\r\n");
      out.write("\t\t\t  \t\t\t\t$('#wincrud').window('open');\t\r\n");
      out.write("\t\t\t\t\t\t}\t\t\t\t\t\r\n");
      out.write("\t\t\t  \t\t}\r\n");
      out.write("\t\t        },\r\n");
      out.write("  \t\t\t\t{\r\n");
      out.write("  \t  \t\t\t\ticonCls: 'icon-edit',\r\n");
      out.write("  \t  \t\t\t\ttext:'修改角色',\r\n");
      out.write("  \t  \t\t\t\tid:'editroletool',\t\t\t\r\n");
      out.write("  \t  \t\t\t\thandler: function()\r\n");
      out.write("  \t\t  \t\t\t\t{  \t\r\n");
      out.write("\t\t  \t  \t\t\t\tif(str.indexOf('140305')==-1){\r\n");
      out.write("\t\t\t\t\t\t\t\t$('#editroletool').css('display','none');\r\n");
      out.write("\t\t\t\t\t\t\t}else{\r\n");
      out.write("\t  \t\t\t    \t\t\tvar rows=$(\"#dg\").datagrid(\"getSelections\");\r\n");
      out.write("\t  \t\t\t    \t\t\tif (rows.length!=0){\r\n");
      out.write("\t  \t\t\t  \t\t\t\t\tvar roleSn=rows[0].roleSn;\r\n");
      out.write("\t  \t\t\t  \t   \t\t    \tif(roleSn!=\"jtxtgly\"&&roleSn!=\"dwxtgly\"&&roleSn!=\"fgsxtgly\"){\r\n");
      out.write("\t\t  \t\t\t    \t\t\t\tif(rows[0].deleted==0){\r\n");
      out.write("\t\t\t  \t  \t\t    \t\t\t\t$('#roleType').combobox('setValue',{id:rows[0].roleTypeName,text:rows[0].roleTypeName}) ;\r\n");
      out.write("\t\t\t  \t\t\t\t    \t\t\t$('#formcrud').form('load',{\r\n");
      out.write("\t\t\t  \t\t\t\t    \t\t\t\troleSn:rows[0].roleSn,\r\n");
      out.write("\t\t\t  \t\t\t\t    \t\t\t\troleName:rows[0].roleName,\r\n");
      out.write("\t\t\t  \t\t\t\t    \t\t\t\troleType:rows[0].roleTypeName\r\n");
      out.write("\t\t\t  \t\t\t\t    \t\t\t});\r\n");
      out.write("\t\t\t  \t\t  \t\t    \t\t\t$('#updateroleformbtn').show();\r\n");
      out.write("\t\t\t  \t\t  \t\t    \t\t\t$('#addroleformbtn').hide();\r\n");
      out.write("\t\t\t  \t\t  \t\t    \t\t\t$('#roleSnDiv').hide();\t\r\n");
      out.write("\t\t\t  \t\t\t\t\t\t    \t$('#roleSnInput').textbox('readonly');\r\n");
      out.write("\t\t\t\t  \t\t\t  \t\t\t\t$('#wincrud').window('open');\r\n");
      out.write("\t\t  \t\t\t    \t\t\t\t}else{\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t$.messager.alert('提示','该行已删除，不可继续操作');\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t}\r\n");
      out.write("\t  \t\t\t  \t   \t\t    \t}\r\n");
      out.write("\t  \t\t\t  \t   \t\t    \telse{\r\n");
      out.write("\t\t  \t\t\t  \t   \t\t    \t$.messager.alert('提示','不能编辑此类角色');\r\n");
      out.write("\t  \t\t\t  \t   \t\t    \t}\r\n");
      out.write("\t  \t\t\t\t\t\t\t}\r\n");
      out.write("\t  \t\t\t\t\t\t\telse\r\n");
      out.write("\t  \t\t\t\t\t\t\t{\r\n");
      out.write("\t  \t\t\t\t\t\t\t\t$.messager.show({\r\n");
      out.write("\t  \t\t\t\t\t\t\t\t\ttitle:'消息提示',\r\n");
      out.write("\t  \t\t\t\t\t\t\t\t\tmsg:'请先选择您要编辑的行！',\r\n");
      out.write("\t  \t\t\t\t\t\t\t\t\tshowType:'null',\r\n");
      out.write("\t  \t\t\t\t\t\t\t\t\tstyle:{\r\n");
      out.write("\t  \t\t\t\t\t\t\t\t\t\ttop:'50'\r\n");
      out.write("\t  \t\t\t\t\t\t\t\t\t}\r\n");
      out.write("\t  \t\t\t\t\t\t\t\t});\r\n");
      out.write("\t  \t\t\t\t\t\t\t}\t\t\r\n");
      out.write("\t\t\t\t\t\t\t}\r\n");
      out.write("  \t\t  \t\t\t\t}\r\n");
      out.write("  \t  \t\t\t},\r\n");
      out.write("  \t\t\t\t{\r\n");
      out.write("  \t  \t\t\t\ticonCls: 'icon-cancel',\r\n");
      out.write("  \t  \t\t\t\ttext:'删除角色',\r\n");
      out.write("  \t  \t\t\t\tid:'deleteroletool',\t\t\t\r\n");
      out.write("  \t  \t\t\t\thandler: function()\r\n");
      out.write("  \t\t  \t\t\t\t{\t\t\r\n");
      out.write("\t  \t  \t\t\t\tif(str.indexOf('140306')==-1){\r\n");
      out.write("\t\t\t\t\t\t\t$('#deleteroletool').css('display','none');\r\n");
      out.write("\t\t\t\t\t\t}else{\r\n");
      out.write("  \t  \t\t\t\t\t\tvar row = $('#dg').datagrid('getSelected');\r\n");
      out.write("  \t\t    \t\t\t\tif (row){\r\n");
      out.write("  \t\t\t  \t\t\t\t\tvar roleSn=row.roleSn;\r\n");
      out.write("  \t\t\t  \t   \t\t    \tif(roleSn!=\"jtxtgly\"&&roleSn!=\"dwxtgly\"&&roleSn!=\"fgsxtgly\"){\r\n");
      out.write("//    \t  \t\t    \t\t\t\t\tif(row.personNum==0){\r\n");
      out.write("\t\t\t\t\t\t\t\t\tif(row.deleted==0){\r\n");
      out.write("  \t\t  \t\t    \t\t\t\t\t$.messager.confirm('选择是否删除','您确定要删除该角色吗?',function(r){   \t\t\t\t\t\r\n");
      out.write("  \t\t  \t\t\t    \t\t\t\t\tif(r){  \t\t\t    \t\t\t\t\t\t\r\n");
      out.write("  \t\t  \t\t\t    \t\t\t\t\t\t$.post('");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${pageContext.request.contextPath}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write("/role/delete',{roleSn:row.roleSn},function(data){ \t\t\t    \t\t\t\t\t\t\t\r\n");
      out.write("  \t\t    \t  \t\t    \t\t\t\t\t\t$.messager.alert('提示',data.substring(1,data.length-1));\r\n");
      out.write("  \t\t  \t\t\t    \t    \t\t\t\t\t$('#dg').datagrid('reload'); \r\n");
      out.write("  \t\t  \t\t\t    \t\t\t\t\t\t},'text');\r\n");
      out.write("  \t\t  \t\t\t    \t\t\t\t\t}\r\n");
      out.write("  \t\t  \t\t\t    \t\t\t\t});\r\n");
      out.write("\t\t\t\t\t\t\t\t\t}else{\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t$.messager.alert('提示','该行已删除，不可继续操作');\r\n");
      out.write("\t\t\t\t\t\t\t\t\t}\r\n");
      out.write("//   \t  \t\t    \t\t\t\t\t}\r\n");
      out.write("//   \t  \t\t    \t\t\t\t\telse{\r\n");
      out.write("//   \t  \t\t    \t\t\t\t\t\t$.messager.alert('提示','请先移除角色里的人员');\r\n");
      out.write("//   \t  \t\t    \t\t\t\t\t}\r\n");
      out.write("\t  \t\t    \t\t\t\t}else{\r\n");
      out.write("\t  \t\t\t  \t   \t\t    \t$.messager.alert('提示','不能删除此类角色');\r\n");
      out.write("\t  \t\t    \t\t\t\t}\r\n");
      out.write("  \t\t    \t\t\t\t}\r\n");
      out.write("\t    \t\t\t\t\telse{\r\n");
      out.write("\t    \t\t\t\t\t\t$.messager.alert('提示','请先选择您要删除的角色所在的行！');\r\n");
      out.write("\t  \t\t  \t\t\t\t}\r\n");
      out.write("  \t\t  \t\t\t\t}\r\n");
      out.write("  \t\t  \t\t\t}\r\n");
      out.write("  \t\t  \t\t\t\t\r\n");
      out.write("  \t  \t\t\t},{\r\n");
      out.write("  \t  \t\t\t\ttext:'已删除角色：<input id=\"includedeleted\" name=\"checkbutton\">'\r\n");
      out.write("  \t  \t\t\t},\r\n");
      out.write("  \t\t\t\t{\r\n");
      out.write("  \t  \t\t\t\ticonCls: 'icon-marking',\r\n");
      out.write("\t  \t\t\t\ttext:'设置角色权限',\r\n");
      out.write("\t  \t\t\t\tid:'rolepower',\t\t\t\r\n");
      out.write("\t  \t\t\t\thandler: function()\r\n");
      out.write("\t  \t\t\t\t{\t  \t\t\r\n");
      out.write("\t  \t\t\t\t\tif(str.indexOf('140303')==-1){\r\n");
      out.write("\t\t\t\t\t\t\t$('#rolepower').css('display','none');\r\n");
      out.write("\t\t\t\t\t\t}else{\r\n");
      out.write("\t\t  \t\t\t    \tvar row = $('#dg').datagrid('getSelected');\r\n");
      out.write("\t\t  \t\t\t    \tif(row){\r\n");
      out.write("\t\t\t  \t\t\t\t\tvar roleSn=row.roleSn;\r\n");
      out.write("\t\t\t  \t   \t\t    \tif(roleSn!=\"jtxtgly\"){\r\n");
      out.write("\t\t\t  \t   \t\t   \t\t\t$(\"#winpower\").panel({title:row.roleName});\r\n");
      out.write("\t\t\t  \t\t\t\t\t\t$('#winpower').window('open');\r\n");
      out.write("\t\t\t  \t\t\t\t\t\t//加载相应的权限\r\n");
      out.write("\t\t\t  \t\t\t\t\t\t$('#cc').tree({\r\n");
      out.write("\t\t\t    \t\t\t\t\t\turl: '");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${pageContext.request.contextPath}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write("/role/resourcetree?roleSn='+roleSn\r\n");
      out.write("\t\t\t  \t\t\t\t\t\t});\r\n");
      out.write("\t\t\t  \t   \t\t    \t}else{\r\n");
      out.write("\t\t   \t    \t\t\t\t\t$.messager.alert('提示','不能为集团系统管理员分配权限！');\r\n");
      out.write("\t\t\t  \t   \t\t    \t}\r\n");
      out.write("\t\t  \t\t\t    \t}else{\r\n");
      out.write("\t\t  \t\t\t    \t\t$.messager.alert('提示','请先选择一个角色进行授权！');\r\n");
      out.write("\t\t  \t\t\t    \t}\r\n");
      out.write("\t\t\t\t\t\t}\r\n");
      out.write("\t  \t\t\t\t}\r\n");
      out.write("  \t\t\t\t},\r\n");
      out.write("  \t\t\t\t{\r\n");
      out.write("  \t\t\t\ticonCls: 'icon-import',\r\n");
      out.write("  \t\t\t\ttext:'批量设置角色',\r\n");
      out.write("  \t\t\t\tid:'importtool',\t\t\t\r\n");
      out.write("  \t\t\t\thandler: function()\r\n");
      out.write("\t  \t\t\t\t{\r\n");
      out.write("\t\t\t\t\t\tif(str.indexOf(\"140301\")==-1){\r\n");
      out.write("\t\t\t\t\t\t\t$(\"#importtool\").css('display','none');\r\n");
      out.write("\t  \t\t\t\t\t}else{\r\n");
      out.write("\t\t  \t\t\t\t\t$('#winImport').window('open');\r\n");
      out.write("\t  \t\t\t\t\t}\t\t\t\t\t\t\r\n");
      out.write("\t  \t\t\t\t}\r\n");
      out.write("  \t\t\t\t}\r\n");
      out.write("  \t\t\t\t\r\n");
      out.write("  \t\t\t\t],\t\r\n");
      out.write("        columns:[[\r\n");
      out.write("                  {field:'roleTypeName',hidden:true} ,\r\n");
      out.write("                  {field:'roleSn',title:'角色编号'},   \r\n");
      out.write("                  {field:'roleName',title:'角色名称',width:5} ,                 \r\n");
      out.write("                  {field:'personNum',title:'人员',width:5,\r\n");
      out.write("                \t  formatter: function(value,row,index){\r\n");
      out.write("          \t\t\t\t\treturn '<a href=\"#\" onClick=\"openwin('+index+')\">'+value+'人</a>';          \t\t\t\t\r\n");
      out.write("          \t\t\t}\r\n");
      out.write("                  } \r\n");
      out.write("              ]],\r\n");
      out.write("       onClickRow:function(index,row){\r\n");
      out.write("    \t\t$('#dg').datagrid('selectRow',index);\r\n");
      out.write(" \t\t\tvar rows=$('#dg').datagrid(\"getSelections\");\r\n");
      out.write("\t\t\troleSn=rows[0].roleSn;\t    \t\r\n");
      out.write("       }\r\n");
      out.write("   });\r\n");
      out.write("\t//下拉框显示当前部门及其子部门下的所有人\r\n");
      out.write("\t<!--弹出的数据网络-->\r\n");
      out.write("\t$('#windg').datagrid({       \r\n");
      out.write("\t\tpageNumber: 1,\r\n");
      out.write("\t\tpagination:true,\r\n");
      out.write("        url: \"");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${pageContext.request.contextPath}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write("/role/personDetail\",\r\n");
      out.write("        rownumbers:true,\r\n");
      out.write("        fitColumns:true,\r\n");
      out.write("        pageSize:10,\r\n");
      out.write("        singleSelect:true,\r\n");
      out.write("        height:372,\r\n");
      out.write("        pageList: [5, 10,15,20],\r\n");
      out.write("        loadFilter: function(data){\r\n");
      out.write("    \t\treturn eval('(' + data + ')');\r\n");
      out.write("    \t},\r\n");
      out.write("\t\ttoolbar:[{\r\n");
      out.write("   \t    \t\ticonCls: 'icon-remove',\r\n");
      out.write("   \t    \t\ttext:'删除授权',\r\n");
      out.write("   \t    \t\tid:'deletepersontool',\r\n");
      out.write("   \t    \t\thandler:function()\r\n");
      out.write("   \t    \t\t{\r\n");
      out.write("   \t\t\t\t\tif(str.indexOf(\"140302\")==-1){\r\n");
      out.write("   \t\t\t\t\t\t$(\"#deletepersontool\").css('display','none');\r\n");
      out.write("   \t\t\t\t\t}else{\r\n");
      out.write("\t   \t    \t\t\tvar row = $('#windg').datagrid('getSelected');\r\n");
      out.write("\t   \t    \t\t\tvar rowslength=$('#windg').datagrid('getData').total;\r\n");
      out.write("\t   \t    \t\t\tif (row){\r\n");
      out.write("\t   \t    \t\t\t\tif(rowslength==1 && row.roleSn==\"jtxtgly\"){\r\n");
      out.write("\t   \t    \t\t\t\t\t$.messager.alert('提示','不能继续删除！');\t\t   \t    \t\t\t\t\r\n");
      out.write("\t   \t    \t\t\t\t}else{\r\n");
      out.write("\t   \t    \t\t\t\t\t$.messager.confirm('提示','您确定要删除该人员吗?',function(r){\r\n");
      out.write("\t\t   \t    \t\t\t\t\tif(r){\r\n");
      out.write("\t\t   \t    \t\t\t\t\t\t$.get('");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${pageContext.request.contextPath}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write("/role/roleDecPerson',{personId:row.personId,roleSn:row.roleSn},function(data){\r\n");
      out.write("\t\t   \t    \t\t\t\t\t\t\t$.messager.alert('提示',data.substring(1,data.length-1));\r\n");
      out.write("\t\t   \t    \t\t\t\t\t\t\t$('#dg').datagrid('reload');\r\n");
      out.write("\t\t\t   \t    \t\t\t\t\t\t$('#windg').datagrid('reload');\r\n");
      out.write("\t\t   \t    \t\t\t\t\t\t},'text');\r\n");
      out.write("\t   \t    \t\t\t\t\t\t} \r\n");
      out.write("\t\t   \t    \t\t\t\t});\r\n");
      out.write("\t   \t    \t\t\t\t}\r\n");
      out.write("\t   \t    \t\t\t}\r\n");
      out.write("\t   \t    \t\t\telse{  \r\n");
      out.write("\t   \t    \t\t\t\t$.messager.alert('提示','请先选择您要删除的行！');\r\n");
      out.write("\r\n");
      out.write("\t   \t    \t\t\t}\r\n");
      out.write("   \t\t\t\t\t}\r\n");
      out.write("   \t    \t\t}\r\n");
      out.write("   \t    \t}\r\n");
      out.write("   \t    \t],\t\r\n");
      out.write("        columns:[[  \r\n");
      out.write("                  {field:'roleSn',title:'角色编号',hidden:true} ,\r\n");
      out.write("                  {field:'personId',title:'人员编号',width:3} ,                 \r\n");
      out.write("                  {field:'personName',title:'人员姓名',width:3},         \r\n");
      out.write("                  {field:'departmentName',title:'部门名称',width:5},\r\n");
      out.write("                  {field:'implDepartmentName',title:'贯标单位',width:5}\r\n");
      out.write("              ]]\r\n");
      out.write("   });\r\n");
      out.write("\t//人下拉框\r\n");
      out.write("\t$('#person').combogrid({    \r\n");
      out.write("\t    panelWidth:170,    \r\n");
      out.write("\t    prompt:'输入编号或姓名搜索',    \t     \r\n");
      out.write("\t    idField:'personId',    \r\n");
      out.write("\t    textField:'personName',  \r\n");
      out.write("        url: \"");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${pageContext.request.contextPath}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write("/role/personss\",\r\n");
      out.write("        delay:200,\r\n");
      out.write("        mode:\"remote\",\r\n");
      out.write("        loadFilter: function(data){\r\n");
      out.write("    \t\treturn eval('(' + data + ')');\r\n");
      out.write("    \t},\r\n");
      out.write("\t    columns:[[    \r\n");
      out.write("\t        {field:'personId',title:'人员编号',width:60},    \r\n");
      out.write("\t        {field:'personName',title:'人员姓名',width:100} \r\n");
      out.write("\t    ]],\r\n");
      out.write("\t    onClickRow:function(index,row){\r\n");
      out.write("\t    \tvar g = $('#person').combogrid('grid');\t// 获取数据表格对象\r\n");
      out.write("\t    \tg.datagrid('selectRow',index);\r\n");
      out.write("\t    \tvar row = g.datagrid('getSelected');\r\n");
      out.write("\t    \t$.post('");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${pageContext.request.contextPath}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write("/role/roleForPerson',{personId:row.personId,roleSn:roleSn},function(data){\r\n");
      out.write("\t    \t\t$.messager.show({\r\n");
      out.write("\t\t\t\t\ttitle:'提示',\r\n");
      out.write("\t\t\t\t\tmsg:data.substring(1,data.length-1),\r\n");
      out.write("\t\t\t\t\tshowType:'show',\r\n");
      out.write("\t\t\t\t\ttimeout:500,\r\n");
      out.write("\t\t\t\t\tstyle:{\r\n");
      out.write("\t\t\t\t\t\ttop:'50'\r\n");
      out.write("\t\t\t\t\t}\r\n");
      out.write("\t\t\t\t});\r\n");
      out.write("\t\t    \t$('#person').combogrid('setValue',\"\");\r\n");
      out.write("\t\t    \t$('#dg').datagrid('reload');\r\n");
      out.write("\t\t    \t$('#windg').datagrid('reload');\r\n");
      out.write("\t    \t},'text'); \r\n");
      out.write("\t    }\r\n");
      out.write("\t});  \r\n");
      out.write("\r\n");
      out.write("\t$('#cc').tree({\r\n");
      out.write("\t    url: '");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${pageContext.request.contextPath}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write("/role/resourcetree?roleSn=',\r\n");
      out.write("\t    checkbox:true,\r\n");
      out.write("\t    method:'get',\r\n");
      out.write("\t    lines: true,\r\n");
      out.write("\t    cascadeCheck:false,\r\n");
      out.write("// \t    onLoadSuccess:function(node, data){\r\n");
      out.write("// \t    \t$('#cc').tree('expandAll');\r\n");
      out.write("// \t    },\r\n");
      out.write("\t    onCheck:function(node, checked){\r\n");
      out.write("\t    \t//$('#cc').tree('options').cascadeCheck=true;\r\n");
      out.write("\t    \tvar row = $('#dg').datagrid('getSelected');\r\n");
      out.write("    \t\tvar roleSn=row.roleSn;\r\n");
      out.write("    \t\tvar resourceSn=node.id;\r\n");
      out.write("    \t\tvar resourceSns=\"\";\r\n");
      out.write("\t    \tif(checked){\r\n");
      out.write("\t    \t\t//得到所有已选择的节点\r\n");
      out.write("\t    \t\tvar resources=$('#cc').tree('getChecked');\r\n");
      out.write("\t    \t\tfor(var i=0;i<resources.length;i++){\r\n");
      out.write("\t    \t\t\tresourceSns+=resources[i].id+\",\";\r\n");
      out.write("\t    \t\t}\r\n");
      out.write("\t    \t\tresourceSns=resourceSns.substring(0, resourceSns.lastIndexOf(\",\"));\r\n");
      out.write("\t\t    \t$.get('");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${pageContext.request.contextPath}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write("/role/resourceForRole',{resourceSns:resourceSns,roleSn:roleSn},function(){\r\n");
      out.write("\t\t    \t},'json');\r\n");
      out.write("\t    \t}\r\n");
      out.write("\t    \telse{\r\n");
      out.write("\t    \t\tresourceSns=node.id+\",\";\r\n");
      out.write("\t    \t\t//得到所有未选择的节点\r\n");
      out.write("\t    \t\tvar resources=$('#cc').tree('getChecked','unchecked');\r\n");
      out.write("\t    \t\tfor(var i=0;i<resources.length;i++){\r\n");
      out.write("\t    \t\t\tresourceSns+=resources[i].id+\",\";\r\n");
      out.write("\t    \t\t}\r\n");
      out.write("\t    \t\tresourceSns=resourceSns.substring(0, resourceSns.lastIndexOf(\",\"));\r\n");
      out.write("\t\t    \t$.get('");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${pageContext.request.contextPath}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write("/role/resourceDeForRole',{resourceSns:resourceSns,roleSn:roleSn},function(){\r\n");
      out.write("\t\t    \t},'json');\r\n");
      out.write("\t    \t}\r\n");
      out.write("\t    }\t\t\r\n");
      out.write("\t}); \r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("\t $('#roleTypeCombo').combobox({    \r\n");
      out.write("\t\t        url:'");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${pageContext.request.contextPath}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write("/role/roleType',    \r\n");
      out.write("\t\t        valueField:'roleTypeName',    \r\n");
      out.write("\t\t        textField:'roleTypeName',\r\n");
      out.write("\t\t        panelHeight:80,\r\n");
      out.write("\t\t        editable:false,\r\n");
      out.write("\t\t        onSelect: function(){\r\n");
      out.write("\t\t        \tvar roleType=$('#roleTypeCombo').combobox('getValue');\r\n");
      out.write("\t\t        \t$('#form').form('load',{\r\n");
      out.write("\t\t        \t\troleType:roleType\r\n");
      out.write("\t\t        \t});\r\n");
      out.write("\t\t\t\t}\r\n");
      out.write("\t\t    });\r\n");
      out.write("\t//确认添加\r\n");
      out.write("\t $('#addroleformbtn').click(function(){\t\r\n");
      out.write("\t\t $('#formcrud').form('submit',{\r\n");
      out.write("\t\t \t\turl: \"");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${pageContext.request.contextPath}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write("/role/add\",\r\n");
      out.write("\t\t \t\tsuccess:function(data){\r\n");
      out.write("\t\t \t\t\t$.messager.alert('提示',data.substring(1,data.length-1));\r\n");
      out.write("\t\t\t\t\t$('#dg').datagrid('reload'); \r\n");
      out.write("\t\t\t\t\t$('#wincrud').window('close');\r\n");
      out.write("\t\t \t\t}\r\n");
      out.write("\t\t \t});\r\n");
      out.write("\t });\r\n");
      out.write("\t//确认修改\r\n");
      out.write("\t $('#updateroleformbtn').click(function(){\r\n");
      out.write("\t\t $('#formcrud').form('submit',{\r\n");
      out.write("\t\t \t\turl: \"");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${pageContext.request.contextPath}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write("/role/update\",\r\n");
      out.write("\t\t \t\tsuccess:function(data){\r\n");
      out.write("\t\t \t\t\t$.messager.alert('提示',data.substring(1,data.length-1));\r\n");
      out.write("\t\t\t\t\t$('#dg').datagrid('reload');\r\n");
      out.write("\t\t\t\t\t$('#wincrud').window('close');\r\n");
      out.write("\t\t \t\t}\r\n");
      out.write("\t\t \t});\r\n");
      out.write("\t });\r\n");
      out.write("\t//包含已删除的开关\r\n");
      out.write("\t$('#includedeleted').switchbutton({ \r\n");
      out.write("\t      checked: false, \r\n");
      out.write("\t      width:60,\r\n");
      out.write("\t      onText:'显示',\r\n");
      out.write("\t      offText:'不显示',\r\n");
      out.write("\t      onChange: function(checked){\r\n");
      out.write("\t    \t  if(checked==true){\r\n");
      out.write("\t\t\t\t\t$('#dg').datagrid('options').url='");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${pageContext.request.contextPath}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write("/role/roleMenu';\r\n");
      out.write("\t    \t  }else{\r\n");
      out.write("\t\t\t\t\t$('#dg').datagrid('options').url='");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${pageContext.request.contextPath}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write("/role/roleMenu?deleteornot=0';\r\n");
      out.write("\t    \t  }\r\n");
      out.write("\t\t\t  $('#dg').datagrid('reload');\r\n");
      out.write("\t      } \r\n");
      out.write("\t});\r\n");
      out.write("\t$('#winpower').window({   \r\n");
      out.write("\t    modal:true ,\r\n");
      out.write("\t    maximizable:false,\r\n");
      out.write("\t    maximized:true,\r\n");
      out.write("\t    minimizable:false,\r\n");
      out.write("\t    collapsible:false\r\n");
      out.write("\t    \r\n");
      out.write("\t });\r\n");
      out.write("// \t$('#win').window({\r\n");
      out.write("// \t    maximizable:false,\r\n");
      out.write("// \t    minimizable:false,\r\n");
      out.write("// \t    collapsible:false,\r\n");
      out.write("// \t    closed:true,\r\n");
      out.write("// \t    title:'',\r\n");
      out.write("// \t    closable:true\r\n");
      out.write("// \t });\r\n");
      out.write("\t//第一层权限\r\n");
      out.write("\tif(str.indexOf('140301')==-1){\r\n");
      out.write("\t\t$('#importtool').css('display','none');\r\n");
      out.write("\t};\r\n");
      out.write("\tif(str.indexOf('140302')==-1){\r\n");
      out.write("\t\t$('#deletepersontool').css('display','none');\r\n");
      out.write("\t};\r\n");
      out.write("\tif(str.indexOf('140303')==-1){\r\n");
      out.write("\t\t$('#rolepower').css('display','none');\r\n");
      out.write("\t};\r\n");
      out.write("\tif(str.indexOf('140304')==-1){\r\n");
      out.write("\t\t$('#addroletool').css('display','none');\r\n");
      out.write("\t};\r\n");
      out.write("\tif(str.indexOf('140305')==-1){\r\n");
      out.write("\t\t$('#editroletool').css('display','none');\r\n");
      out.write("\t};\r\n");
      out.write("\tif(str.indexOf('140306')==-1){\r\n");
      out.write("\t\t$('#deleteroletool').css('display','none');\r\n");
      out.write("\t};\t\r\n");
      out.write("\t\r\n");
      out.write("\t\r\n");
      out.write("\t$('#addroletool').linkbutton({\r\n");
      out.write("\t\tplain:false\r\n");
      out.write("\t});\r\n");
      out.write("\t$('#editroletool').linkbutton({\r\n");
      out.write("\t\tplain:false\r\n");
      out.write("\t});\r\n");
      out.write("\t$('#deleteroletool').linkbutton({\r\n");
      out.write("\t\tplain:false\r\n");
      out.write("\t});\r\n");
      out.write("\t$('#importtool').linkbutton({\r\n");
      out.write("\t\tplain:false\r\n");
      out.write("\t});\r\n");
      out.write("\t$('#rolepower').linkbutton({\r\n");
      out.write("\t\tplain:false\r\n");
      out.write("\t});\r\n");
      out.write("\t$('#deletepersontool').linkbutton({\r\n");
      out.write("\t\tplain:false\r\n");
      out.write("\t});\r\n");
      out.write("\t$('#importrole').click(function(){\r\n");
      out.write("\t\tvar ex=$('#excel').filebox('getValue');\r\n");
      out.write("\t\tif(ex!=\"\"){\r\n");
      out.write("\t\t\t var d1=/\\.[^\\.]+$/.exec(ex);   \r\n");
      out.write("\t\t     if(d1==\".xlsx\"){\r\n");
      out.write("\t\t\t //进度条显示\r\n");
      out.write("\t\t\t  $('#p').progressbar('setValue',0);\r\n");
      out.write("\t\t\t  $('#winPro').window('open');\r\n");
      out.write("\t\t\t  var timer = setInterval(getSession,500);\r\n");
      out.write("\t\t\t\t$('#form').form('submit',{\r\n");
      out.write("\t\t\t\turl: \"");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${pageContext.request.contextPath}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write("/role/importRole\",\r\n");
      out.write("\t\t\t\tsuccess: function(data){\r\n");
      out.write("\t\t\t\t\t\t$('#p').progressbar('setValue','100');\r\n");
      out.write("\t\t\t\t\t\tclearInterval(timer);\r\n");
      out.write("\t\t\t\t\t\t$('#winPro').window('close');\r\n");
      out.write("\t\t\t\t\t\t\r\n");
      out.write("\t\t\t\t\t\t$('#winImport').window('close');\r\n");
      out.write("\t\t\t\t\t\t$.messager.alert('提示',data.substring(1,data.length-1));\r\n");
      out.write("\t\t\t\t\t\t$('#dg').datagrid('reload');\t\t\t\r\n");
      out.write("\t\t\t\t\t}\r\n");
      out.write("\t\t\t\t});\r\n");
      out.write("\t\t\t}\r\n");
      out.write("\t\t     else{\r\n");
      out.write("\t\t    \t $.messager.alert('提示','请选择.xlsx文件！');\r\n");
      out.write("\t\t    \t $('#excel').filebox('setValue','');\r\n");
      out.write("\t\t     }\r\n");
      out.write("\t\t}else{\r\n");
      out.write("\t\t\t$.messager.alert('提示','请选择文件！');\r\n");
      out.write("\t\t}\r\n");
      out.write("\t});\r\n");
      out.write("\t//设置窗口和其中元素的初始化\r\n");
      out.write("\t$('#win').window({\r\n");
      out.write("\t\t title:'', \r\n");
      out.write("\t\t modal:true,\r\n");
      out.write("\t\t maximizable:false, \r\n");
      out.write("\t\t minimizable:false, \r\n");
      out.write("\t\t collapsible:false,\r\n");
      out.write("\t\t closable:true,\r\n");
      out.write("\t\t closed:true,\r\n");
      out.write("\t\t width:500,\r\n");
      out.write("\t\t height:450\r\n");
      out.write("\t});\r\n");
      out.write("\t$('#excel').textbox({\r\n");
      out.write("\t});\r\n");
      out.write("\t$('#downloadrole').linkbutton({\r\n");
      out.write("\t});\r\n");
      out.write("\t$('#addroleformbtn').linkbutton({\r\n");
      out.write("\t});\r\n");
      out.write("\t$('#updateroleformbtn').linkbutton({\r\n");
      out.write("\t});\r\n");
      out.write("\t$('#roleSnInput').textbox({\r\n");
      out.write("\t});\r\n");
      out.write("\t$('#roleNameInput').textbox({\r\n");
      out.write("\t});\r\n");
      out.write("\t$('#winImport').window({\r\n");
      out.write("\t\twidth:250,\r\n");
      out.write("\t\theight:250,\r\n");
      out.write("\t\ttitle:'批量分配角色',\r\n");
      out.write("\t\tcollapsible:false,\r\n");
      out.write("\t\tminimizable:false,\r\n");
      out.write("\t\tmaximizable:false,\r\n");
      out.write("\t\tclosed:true,\r\n");
      out.write("\t\tonOpen:function(){\r\n");
      out.write("\t\t\t$('#excel').filebox({\r\n");
      out.write("\t\t\t});\r\n");
      out.write("\t\t}\r\n");
      out.write("\t});\r\n");
      out.write("\t$('#wincrud').window({\r\n");
      out.write("\t\twidth:300,\r\n");
      out.write("\t\theight:270,\r\n");
      out.write("\t\ttitle:'填写角色信息',\r\n");
      out.write("\t\tcollapsible:false,\r\n");
      out.write("\t\tminimizable:false,\r\n");
      out.write("\t\tmaximizable:false,\r\n");
      out.write("\t\tmodal:true,\r\n");
      out.write("\t\tclosed:true\r\n");
      out.write("\t});\r\n");
      out.write("});\r\n");
      out.write("\r\n");
      out.write("//打开窗口\r\n");
      out.write("function openwin(index){\r\n");
      out.write("\t$('#person').combogrid('setValue',\"\");\r\n");
      out.write("\t$('#dg').datagrid('selectRow',index);\r\n");
      out.write("\t$('#win').window('open');\r\n");
      out.write("\tvar rows=$('#dg').datagrid(\"getSelections\");\r\n");
      out.write("\troleSn=rows[0].roleSn;\r\n");
      out.write("\t//$('#win').window('options').title=rows[0].roleName;\r\n");
      out.write("\t//session.setParameter('title',rows[0].roleName);\r\n");
      out.write("\t// $(\"#win\").attr({title:rows[0].roleName});\r\n");
      out.write("\t$(\"#win\").panel({title:rows[0].roleName});\r\n");
      out.write("\tif(rows.length!=0){\r\n");
      out.write("// \t\t$.get('");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${pageContext.request.contextPath}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write("/role/personDetail',{roleSn:roleSn},function(){\r\n");
      out.write("//     \t}); \r\n");
      out.write("\t\t$('#windg').datagrid('load',{roleSn:roleSn});\r\n");
      out.write("\t\t//$('#person').datagrid('reload');\r\n");
      out.write("\t}\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("//ajax发送请求session--导入\r\n");
      out.write("function getSession(){\r\n");
      out.write("\t$.ajax({\r\n");
      out.write("\t\turl:'");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${pageContext.request.contextPath}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write("/hazard/manageObjectAction_findSession.action',\r\n");
      out.write("\t\tsuccess: function(data){\r\n");
      out.write("\t\t\t$('#p').progressbar('setValue',data);\r\n");
      out.write("\t\t}\r\n");
      out.write("\t},\"json\");\r\n");
      out.write("};\r\n");
      out.write("</script>\r\n");
      out.write("</head>\r\n");
      out.write("<body>\r\n");
      out.write("\t<input id=\"checkbutton\" type=\"hidden\">\r\n");
      out.write("\t<!-- roleMenu-->\r\n");
      out.write("\t<table id=\"dg\"></table>\r\n");
      out.write("\t<!-- 分配角色窗口 -->\r\n");
      out.write("\t<div id=\"win\" class=\"easyui-window\" style=\"padding:5px;\">\r\n");
      out.write("\t\t<input id=\"person\" name=\"person\" />\r\n");
      out.write("\t\t<table id=\"windg\"></table>\r\n");
      out.write("\t</div>\r\n");
      out.write("\t<!-- 导入窗口 -->\r\n");
      out.write("\t<div id=\"winImport\" class=\"easyui-window\" title=\"批量角色分配窗口\" style=\"padding:5px;\">\r\n");
      out.write("\t\t<form id=\"form\" method=\"post\" enctype=\"multipart/form-data\">\t\t\r\n");
      out.write("\t\t\t<br/><br/>\r\n");
      out.write("\t\t\t\t<input id=\"excel\" data-options=\"buttonText:'选择文件'\" class=\"easyui-filebox\" name=\"excel\"/><br/><br/><br/><br/>\r\n");
      out.write("\t\t\t\t<a id=\"downloadrole\" class=\"easyui-linkbutton\" href=\"");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${pageContext.request.contextPath}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write("/role/downloadRole\" iconCls=\"icon-export\">下载分配模板</a>\r\n");
      out.write("\t\t\t\t<br/><br/><a class=\"easyui-linkbutton\" iconCls=\"icon-import\" id=\"importrole\">分配角色</a>\r\n");
      out.write("\t\t</form>\r\n");
      out.write("\t</div>\r\n");
      out.write("\t<!-- 分配角色权限窗口 -->\r\n");
      out.write("\t<div id=\"winpower\" class=\"easyui-window\" title=\"分配角色权限\" closed=\"true\">\r\n");
      out.write("\t\t<ul id=\"cc\"></ul>\r\n");
      out.write("\t</div>\r\n");
      out.write("\t<!-- 角色增删改窗口 -->\r\n");
      out.write("\t<div id=\"wincrud\" class=\"easyui-window\" style=\"padding:5px;\">\r\n");
      out.write("\t\t<form id=\"formcrud\" method=\"post\">\t\t\r\n");
      out.write("\t\t\t<br/>\t\t\t\t\r\n");
      out.write("\t\t\t\t<label>角色编号：</label>\r\n");
      out.write("\t\t\t\t<input id=\"roleSnInput\" class=\"easyui-textbox\" name=\"roleSn\"/><br/><br/>\r\n");
      out.write("\t\t\t\t<label>角色名称：</label>\r\n");
      out.write("\t\t\t\t<input id=\"roleNameInput\" class=\"easyui-textbox\" name=\"roleName\"/><br/><br/>\r\n");
      out.write("\t\t\t\t<label>角色类型：</label>\r\n");
      out.write("\t\t\t\t<input class=\"easyui-combobox\" required=\"true\" id=\"roleTypeCombo\" name=\"roleType\"/>\r\n");
      out.write("\t\t\t\t<br/><br/>&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;<a iconCls=\"icon-add\" id=\"addroleformbtn\" class=\"easyui-linkbutton\">确认添加</a>\r\n");
      out.write("\t\t\t\t<br/><br/>&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;<a iconCls=\"icon-edit\" id=\"updateroleformbtn\" class=\"easyui-linkbutton\">确认修改</a>\r\n");
      out.write("\t\t</form>\r\n");
      out.write("\t</div>\r\n");
      out.write("</body>\r\n");
      out.write("</html>");
    } catch (java.lang.Throwable t) {
      if (!(t instanceof javax.servlet.jsp.SkipPageException)){
        out = _jspx_out;
        if (out != null && out.getBufferSize() != 0)
          try {
            if (response.isCommitted()) {
              out.flush();
            } else {
              out.clearBuffer();
            }
          } catch (java.io.IOException e) {}
        if (_jspx_page_context != null) _jspx_page_context.handlePageException(t);
        else throw new ServletException(t);
      }
    } finally {
      _jspxFactory.releasePageContext(_jspx_page_context);
    }
  }
}
