/*
 * Generated by the Jasper component of Apache Tomcat
 * Version: Apache Tomcat/8.0.23
 * Generated at: 2017-07-22 06:55:44 UTC
 * Note: The last modified time of this file was set to
 *       the last modified time of the source file after
 *       generation to assist with modification tracking.
 */
package org.apache.jsp.WEB_002dINF.view.base;

import javax.servlet.*;
import javax.servlet.http.*;
import javax.servlet.jsp.*;

public final class department_jsp extends org.apache.jasper.runtime.HttpJspBase
    implements org.apache.jasper.runtime.JspSourceDependent,
                 org.apache.jasper.runtime.JspSourceImports {

  private static final javax.servlet.jsp.JspFactory _jspxFactory =
          javax.servlet.jsp.JspFactory.getDefaultFactory();

  private static java.util.Map<java.lang.String,java.lang.Long> _jspx_dependants;

  private static final java.util.Set<java.lang.String> _jspx_imports_packages;

  private static final java.util.Set<java.lang.String> _jspx_imports_classes;

  static {
    _jspx_imports_packages = new java.util.HashSet<>();
    _jspx_imports_packages.add("javax.servlet");
    _jspx_imports_packages.add("javax.servlet.http");
    _jspx_imports_packages.add("javax.servlet.jsp");
    _jspx_imports_classes = null;
  }

  private javax.el.ExpressionFactory _el_expressionfactory;
  private org.apache.tomcat.InstanceManager _jsp_instancemanager;

  public java.util.Map<java.lang.String,java.lang.Long> getDependants() {
    return _jspx_dependants;
  }

  public java.util.Set<java.lang.String> getPackageImports() {
    return _jspx_imports_packages;
  }

  public java.util.Set<java.lang.String> getClassImports() {
    return _jspx_imports_classes;
  }

  public void _jspInit() {
    _el_expressionfactory = _jspxFactory.getJspApplicationContext(getServletConfig().getServletContext()).getExpressionFactory();
    _jsp_instancemanager = org.apache.jasper.runtime.InstanceManagerFactory.getInstanceManager(getServletConfig());
  }

  public void _jspDestroy() {
  }

  public void _jspService(final javax.servlet.http.HttpServletRequest request, final javax.servlet.http.HttpServletResponse response)
        throws java.io.IOException, javax.servlet.ServletException {

final java.lang.String _jspx_method = request.getMethod();
if (!"GET".equals(_jspx_method) && !"POST".equals(_jspx_method) && !"HEAD".equals(_jspx_method) && !javax.servlet.DispatcherType.ERROR.equals(request.getDispatcherType())) {
response.sendError(HttpServletResponse.SC_METHOD_NOT_ALLOWED, "JSPs only permit GET POST or HEAD");
return;
}

    final javax.servlet.jsp.PageContext pageContext;
    javax.servlet.http.HttpSession session = null;
    final javax.servlet.ServletContext application;
    final javax.servlet.ServletConfig config;
    javax.servlet.jsp.JspWriter out = null;
    final java.lang.Object page = this;
    javax.servlet.jsp.JspWriter _jspx_out = null;
    javax.servlet.jsp.PageContext _jspx_page_context = null;


    try {
      response.setContentType("text/html; charset=UTF-8");
      pageContext = _jspxFactory.getPageContext(this, request, response,
      			null, true, 8192, true);
      _jspx_page_context = pageContext;
      application = pageContext.getServletContext();
      config = pageContext.getServletConfig();
      session = pageContext.getSession();
      out = pageContext.getOut();
      _jspx_out = out;

      out.write("\r\n");
      out.write("<!DOCTYPE html PUBLIC \"-//W3C//DTD HTML 4.01 Transitional//EN\" \"http://www.w3.org/TR/html4/loose.dtd\">\r\n");
      out.write("<html>\r\n");
      out.write("<head>\r\n");
      out.write("<meta http-equiv=\"Content-Type\" content=\"text/html; charset=UTF-8\">\r\n");
      out.write("<title>神华宁煤安全风险预控管理信息系统</title>\r\n");
      out.write("<link rel=\"stylesheet\" type=\"text/css\" href=\"");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${pageContext.request.contextPath}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write("/easyui/themes/default/easyui.css\">\r\n");
      out.write("<link rel=\"stylesheet\" type=\"text/css\" href=\"");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${pageContext.request.contextPath}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write("/easyui/themes/icon.css\">\r\n");
      out.write("<link rel=\"stylesheet\" type=\"text/css\" href=\"");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${pageContext.request.contextPath}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write("/css/login.css\">\r\n");
      out.write("<script type=\"text/javascript\" src=\"");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${pageContext.request.contextPath}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write("/easyui/jquery.min.js\"></script>\r\n");
      out.write("<script type=\"text/javascript\" src=\"");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${pageContext.request.contextPath}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write("/easyui/jquery.easyui.min.js\"></script>\r\n");
      out.write("<script type=\"text/javascript\" src=\"");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${pageContext.request.contextPath}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write("/easyui/jquery.easyui.mobile.js\"></script>\r\n");
      out.write("<script type=\"text/javascript\" src=\"");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${pageContext.request.contextPath}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write("/easyui/easyloader.js\"></script>\r\n");
      out.write("<script type=\"text/javascript\" src=\"");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${pageContext.request.contextPath}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write("/easyui/locale/easyui-lang-zh_CN.js\"></script>\r\n");
      out.write("<script> \r\n");
      out.write("<!--验证规则-->\r\n");
      out.write("$.extend($.fn.validatebox.defaults.rules, {    \r\n");
      out.write("\tNumber: {//value值为文本框中的值\r\n");
      out.write("\t        validator: function (value) {\r\n");
      out.write("\t           // return /^13[0-9]{1}[0-9]{8}$|15[0189]{1}[0-9]{8}$|189[0-9]{8}$/.test(value);\r\n");
      out.write("\t            var reg =/^[0-9]*$/;  \r\n");
      out.write("\t            return reg.test(value); \r\n");
      out.write("\t        },\r\n");
      out.write("\t        message: '只能输入数字'\r\n");
      out.write("\t    }   \r\n");
      out.write("});\r\n");
      out.write("//全局变量\r\n");
      out.write("var showpdeptsn=null;\r\n");
      out.write("var departmentSn0=null;\r\n");
      out.write("var data=null;\r\n");
      out.write("//权限管理\r\n");
      out.write("var str=\"");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${sessionScope['permissions']}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write("\";\r\n");
      out.write("<!--数据网络-->\r\n");
      out.write("$(function () {\r\n");
      out.write("\t$('#dg').datagrid({\r\n");
      out.write("\t\t//url: \"");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${pageContext.request.contextPath}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write("/department/show?deleteornot=0\",\r\n");
      out.write("\t\tpageNumber: 1,\r\n");
      out.write("\t\tpagination:true,\r\n");
      out.write("        rownumbers:true,\r\n");
      out.write("        fitColumns:true,\r\n");
      out.write("        fit:true,\r\n");
      out.write("        pageSize:50,\r\n");
      out.write("        singleSelect:true,\r\n");
      out.write("        height:650,\r\n");
      out.write("        pageList: [20, 30,50,100],\r\n");
      out.write("        loadFilter: function(data){\r\n");
      out.write("    \t\treturn eval('(' + data + ')');\r\n");
      out.write("    \t},\r\n");
      out.write("        toolbar:[\r\n");
      out.write("\t\t{\r\n");
      out.write("\t\t\ttext:'上级部门：<input id=\"cc\" name=\"tree\">'\r\n");
      out.write("\t\t},\r\n");
      out.write("\t\t{\r\n");
      out.write("\t\t\ticonCls: 'icon-import',\r\n");
      out.write("\t\t\ttext:'导入部门',\r\n");
      out.write("\t\t\tid:'importtool',\r\n");
      out.write("\t\t\thandler: function()\r\n");
      out.write("\t\t\t{\r\n");
      out.write("\t\t\t\tif(str.indexOf(\"140104\")==-1){\r\n");
      out.write("\t\t\t\t\t$(\"#importtool\").css('display','none');\r\n");
      out.write("\t\t\t\t}else{\r\n");
      out.write("\t\t\t\t\t$('#winImport').window('open');\r\n");
      out.write("\t\t\t\t}\r\n");
      out.write("\t\t\t}\r\n");
      out.write("\t\t},\r\n");
      out.write("\t\t{\r\n");
      out.write("\t\t\ticonCls: 'icon-excel',\r\n");
      out.write("\t\t\ttext:'导出到EXCEL',\r\n");
      out.write("\t\t\tid:'exporttool',\r\n");
      out.write("\t\t\thandler: function()\r\n");
      out.write("\t\t\t{\r\n");
      out.write("\t\t\t\tif(str.indexOf(\"140105\")==-1){\r\n");
      out.write("\t\t\t\t\t$(\"#exporttool\").css('display','none');\r\n");
      out.write("\t\t\t\t}else{\r\n");
      out.write("\t\t\t\t\tvar url ='");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${pageContext.request.contextPath}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write("/department/export';\r\n");
      out.write("\t  \t\t\t\t$('<form method=\"post\" action=\"' + url + '\"></form>').appendTo('body').submit().remove();\r\n");
      out.write("\t\t\t\t}\r\n");
      out.write("\t\t\t}\r\n");
      out.write("\t\t},        \r\n");
      out.write("        {\r\n");
      out.write("    \t\ticonCls: 'icon-edit',\r\n");
      out.write("    \t\ttext:'编辑部门',\r\n");
      out.write("    \t\tid:'edittool',\r\n");
      out.write("    \t\thandler: function()\r\n");
      out.write("    \t\t{\r\n");
      out.write("\t\t\t\tif(str.indexOf(\"140102\")==-1){\r\n");
      out.write("\t\t\t\t\t$(\"#edittool\").css('display','none');\r\n");
      out.write("\t\t\t\t}else{\t\r\n");
      out.write("\t    \t\t\t//数据回显\r\n");
      out.write("\t    \t\t\tvar rows=$(\"#dg\").datagrid(\"getSelections\");\r\n");
      out.write("\t    \t\t\tif (rows.length!=0){\t\r\n");
      out.write("\t\t\t\t\t\tif(rows[0].deleted==0){\r\n");
      out.write("\t\t\t\t\t\t\tvar departmentSnValue = $('#cc').combotree('getValue');\r\n");
      out.write("\t\t\t\t\t\t\t$('#departmentTypeSn').combobox('reload',{\r\n");
      out.write("\t\t\t\t\t    \t   departmentSn:departmentSnValue\r\n");
      out.write("\t\t\t\t\t    \t});\r\n");
      out.write("\t\t\t       \t\t\tvar t = $('#cc').combotree('tree');\r\n");
      out.write("\t\t\t       \t\t\tvar node = t.tree('getSelected');   \t\t\t\r\n");
      out.write("\t\t\t       \t\t\t$('#form').form({queryParams: {parentDepartmentSn:node.id}});  \r\n");
      out.write("\t\t\t    \t\t\t$('#pdepartmentSn').textbox('setValue',node.id);\r\n");
      out.write("\t\t\t    \t\t\t$('#pdepartmentSn').textbox('readonly'); \t\r\n");
      out.write("\t\t\t    \t\t\t$('#updatebtn').show();\r\n");
      out.write("\t\t\t    \t\t\t$('#addbtn').hide();\r\n");
      out.write("\t\t\t    \t\t\t$('#departmentSn').textbox('readonly');\r\n");
      out.write("\t\t\t\t\t\t\t$('#form').form('disableValidation');\r\n");
      out.write("\t\t\t    \t\t\t$('#win').window('open');\r\n");
      out.write("\t\t\t    \t\t\tvar t = $('#cc').combotree('tree');\r\n");
      out.write("\t\t\t    \t\t\tvar node = t.tree('getSelected');  \r\n");
      out.write("\t\t\t    \t\t\t$('#departmentTypeSn').combobox('setValue',rows[0].departmentTypeSn);\r\n");
      out.write("\t\t\t    \t\t\t//$('#principalp').combogrid('setValue',{personId:rows[0].principalSn,personName:rows[0].principal});\r\n");
      out.write("\t\t\t    \t\t\t$('#principal').combogrid('setValue',{personId:rows[0].principalSn,personName:rows[0].principal});\r\n");
      out.write("\t\t\t    \t\t\t//对表单数据进行填充\r\n");
      out.write("\t\t\t    \t\t\t$('#form').form('load',{\r\n");
      out.write("\t\t\t    \t\t\t\tupdateId:rows[0].id,\r\n");
      out.write("\t\t\t    \t\t\t\tdepartmentSn:rows[0].departmentSn,\r\n");
      out.write("\t\t\t    \t\t\t\tdepartmentName:rows[0].departmentName,\r\n");
      out.write("\t\t\t    \t\t\t\tdutyman:rows[0].dutyman,\r\n");
      out.write("\t\t\t    \t\t\t\tshowSequence:rows[0].showSequence\r\n");
      out.write("\t\t\t    \t\t\t});\r\n");
      out.write("\t\t\t\t\t\t}else{\r\n");
      out.write("\t    \t\t\t\t\t$.messager.alert('提示','该行已删除，不可继续操作');\r\n");
      out.write("\t    \t\t\t\t}\r\n");
      out.write("\t\t\t\t\t}\r\n");
      out.write("\t\t\t\t\telse\r\n");
      out.write("\t\t\t\t\t{\r\n");
      out.write("\t\t\t\t\t\t$.messager.show({\r\n");
      out.write("\t\t\t\t\t\t\ttitle:'消息提示',\r\n");
      out.write("\t\t\t\t\t\t\tmsg:'请先选择您要编辑的行！',\r\n");
      out.write("\t\t\t\t\t\t\tshowType:'null',\r\n");
      out.write("\t\t\t\t\t\t\tstyle:{\r\n");
      out.write("\t\t\t\t\t\t\t\ttop:'50'\r\n");
      out.write("\t\t\t\t\t\t\t}\r\n");
      out.write("\t\t\t\t\t\t});\r\n");
      out.write("\t\t\t\t\t}\r\n");
      out.write("\t\t\t\t}\r\n");
      out.write("\t\t\t}\r\n");
      out.write("    \t},\r\n");
      out.write("    \t{\r\n");
      out.write("    \t\ticonCls: 'icon-add',\r\n");
      out.write("    \t\ttext:'增加部门',\r\n");
      out.write("    \t\tid:'addtool',\r\n");
      out.write("    \t\thandler:function(){\r\n");
      out.write("\t\t\t\t//添加\r\n");
      out.write("\t\t\t\tif(str.indexOf(\"140101\")==-1){\r\n");
      out.write("\t\t\t\t\t$(\"#addtool\").css('display','none');\r\n");
      out.write("\t\t\t\t}else{\r\n");
      out.write("\t\t\t\t\tvar departmentSnValue = $('#cc').combotree('getValue');\r\n");
      out.write("\t\t\t\t\t$('#departmentTypeSn').combobox('reload',{\r\n");
      out.write("\t\t\t    \t   departmentSn:departmentSnValue\r\n");
      out.write("\t\t\t    \t});\r\n");
      out.write("\t\t\t\t\t$('#form').form('reset');\r\n");
      out.write("\t    \t\t\tvar t = $('#cc').combotree('tree');\r\n");
      out.write("\t    \t\t\tvar node = t.tree('getSelected');   \t\t\t\r\n");
      out.write("\t    \t\t\t$('#form').form({queryParams: {parentDepartmentSn:node.id}});\r\n");
      out.write("\t    \t\t\t$('#pdepartmentSn').textbox('setValue',node.id);\r\n");
      out.write("\t    \t\t\t$('#pdepartmentSn').textbox('readonly'); \t\r\n");
      out.write("\t    \t\t\t$('#departmentSn').textbox('readonly',false); \t\r\n");
      out.write("\t    \t\t\t$('#addbtn').show();\r\n");
      out.write("\t    \t\t\t$('#updatebtn').hide(); \r\n");
      out.write("\t    \t\t\t$('#win').window('open');\r\n");
      out.write("// \t    \t    \tvar da=$(\"#departmentTypeSn\").combobox('tree').tree(\"getRoot\");\t\r\n");
      out.write("// \t    \t    \t$('#departmentTypeSn').combobox('setValue',da.id);\r\n");
      out.write("\t\t\t\t\t$('#form').form('disableValidation');\r\n");
      out.write("\t\t\t\t}\r\n");
      out.write("    \t\t}\r\n");
      out.write("    \t},\r\n");
      out.write("    \t{\r\n");
      out.write("    \t\ticonCls: 'icon-remove',\r\n");
      out.write("    \t\ttext:'删除部门',\r\n");
      out.write("    \t\tid:'deletetool',\r\n");
      out.write("    \t\thandler:function()\r\n");
      out.write("    \t\t{\r\n");
      out.write("    \t\t\t//权限管理\r\n");
      out.write("\t\t\t\tvar str=\"");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${sessionScope['permissions']}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write("\";\r\n");
      out.write("\t\t\t\tif(str.indexOf(\"140103\")==-1){\r\n");
      out.write("\t\t\t\t\t$(\"#deletetool\").css('display','none');\r\n");
      out.write("\t\t\t\t}else{\r\n");
      out.write("    \t\t\t\tvar row = $('#dg').datagrid('getSelected');\r\n");
      out.write("\t    \t\t\tif (row){\r\n");
      out.write("\t    \t\t\t\tif(row.deleted==0){\r\n");
      out.write("\t\t    \t\t\t\t$.messager.confirm('选择是否删除','您确定要删除该部门吗?',function(r){   \t\t\t\t\t\r\n");
      out.write("\t\t    \t\t\t\t\tif(r){\r\n");
      out.write("\t\t    \t\t\t\t\t\t$.post('");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${pageContext.request.contextPath}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write("/department/delete',{updateId:row.id},function(data){\r\n");
      out.write("\t\t    \t\t\t\t\t\t\tvar data = eval('(' + data + ')');\r\n");
      out.write("\t\t    \t\t\t\t\t\t\t$.messager.alert('提示',data);\r\n");
      out.write("\t\t    \t    \t\t\t\t\t$('#dg').datagrid('reload'); \r\n");
      out.write("\t\t    \t\t\t\t\t\t},'text');\r\n");
      out.write("\t\t    \t\t\t\t\t};\r\n");
      out.write("\t\t    \t\t\t\t});\r\n");
      out.write("\t    \t\t\t\t}else{\r\n");
      out.write("\t    \t\t\t\t\t$.messager.alert('提示','该行已删除，不可继续操作');\r\n");
      out.write("\t    \t\t\t\t}\r\n");
      out.write("\t    \t\t\t}\r\n");
      out.write("\t    \t\t\telse{\r\n");
      out.write("\t    \t\t\t\t$.messager.show({\r\n");
      out.write("\t\t\t\t\t\t\ttitle:'消息提示',\r\n");
      out.write("\t\t\t\t\t\t\tmsg:'请先选择您要删除的行！',\r\n");
      out.write("\t\t\t\t\t\t\tshowType:'null',\r\n");
      out.write("\t\t\t\t\t\t\tstyle:{\r\n");
      out.write("\t\t\t\t\t\t\t\ttop:'50'\r\n");
      out.write("\t\t\t\t\t\t\t}\r\n");
      out.write("\t\t\t\t\t\t});\r\n");
      out.write("\t    \t\t\t}\r\n");
      out.write("\t\t\t\t}\r\n");
      out.write("    \t\t}\r\n");
      out.write("    \t},{\r\n");
      out.write("\t\t\t\ttext:'已删除部门：<input id=\"includedeleted\" name=\"checkbutton\">'\r\n");
      out.write("\t\t},\r\n");
      out.write("\t\t{\r\n");
      out.write(" \t\t\ticonCls: 'icon-undo',\r\n");
      out.write("\t\t\ttext:'取消删除',\r\n");
      out.write("\t\t\tid:'cancelDelete',\r\n");
      out.write("\t\t\thandler: function()\r\n");
      out.write("\t\t\t{\r\n");
      out.write("\t\t\t\tvar row = $('#dg').datagrid('getSelected');\r\n");
      out.write("    \t\t\tif (row){\r\n");
      out.write("    \t\t\t\tif(row.deleted == true){\r\n");
      out.write("\t    \t\t\t\t$.messager.confirm('提示','您确定要恢复该部门吗?',function(r){\r\n");
      out.write("\t    \t\t\t\t\tif(r){\r\n");
      out.write("\t    \t\t\t\t\t\t$.post('");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${pageContext.request.contextPath}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write("/department/cancelDelete',{changeId:row.id},function(data){\r\n");
      out.write("\t    \t\t\t\t\t\t\t$.messager.alert('提示',data.substring(1,data.length-1));\r\n");
      out.write("\t    \t\t\t\t\t\t\t$('#dg').datagrid('reload');\r\n");
      out.write("\t    \t\t\t    \t\t\t$('#cancelDelete').css('display','none');\r\n");
      out.write("\t    \t\t\t\t\t\t},'text');\r\n");
      out.write("\t    \t\t\t\t\t}\r\n");
      out.write("\t    \t\t\t\t});\r\n");
      out.write("    \t\t\t\t}else{\r\n");
      out.write("    \t\t\t\t\t$.messager.alert('提示','该行未删除，不可继续操作');\r\n");
      out.write("    \t\t\t\t}\r\n");
      out.write("    \t\t\t}\r\n");
      out.write("\t\t\t}\r\n");
      out.write(" \t\t}\r\n");
      out.write("    \t],\r\n");
      out.write("    \tonSelect:function(index,row){\r\n");
      out.write("    \t\tif( row.deleted != undefined && row.deleted == true ){\r\n");
      out.write("    \t\t\t$('#cancelDelete').css('display','');\r\n");
      out.write("    \t\t}else{\r\n");
      out.write("    \t\t\t$('#cancelDelete').css('display','none');\r\n");
      out.write("    \t\t}\r\n");
      out.write("    \t},\r\n");
      out.write("        columns:[[ \r\n");
      out.write("                  {field:'id',hidden:true},\r\n");
      out.write("                  {field:'departmentTypeSn',hidden:true},\r\n");
      out.write("                  {field:'principalSn',hidden:true},\r\n");
      out.write("                  {field:'departmentSn',title:'部门编号',width:100} ,  \r\n");
      out.write("                  {field:'departmentName',title:'部门名称',width:100},\r\n");
      out.write("                  {field:'departmentType',title:'部门类型',width:100},\r\n");
      out.write("                  {field:'showSequence',title:'显示顺序',width:100},\r\n");
      out.write("                  {field:'principal',title:'安全责任人',width:100}\r\n");
      out.write("              ]] ,\r\n");
      out.write("              onClickRow:function(){\r\n");
      out.write("//             \t\t$('#principalp').combogrid('grid').datagrid('load');\r\n");
      out.write("              }\r\n");
      out.write("   });\r\n");
      out.write("    <!--加载datagrid里的部门表树形菜单-->\r\n");
      out.write("    $('#cc').combotree({\r\n");
      out.write("    \theight:22,\r\n");
      out.write("\t    url: '");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${pageContext.request.contextPath}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write("/department/treeAll?resourceSn=1401',\r\n");
      out.write("\t\tpanelWidth: 300,\r\n");
      out.write("\t\tpanelHeight:350,\r\n");
      out.write("\t    onLoadSuccess: function (node, data) {\r\n");
      out.write("\t       var x = $('#cc').combotree('getValue');\r\n");
      out.write("           if(x==\"\"||x==null){\r\n");
      out.write("                var da=$(\"#cc\").combotree('tree').tree(\"getRoot\");\t\r\n");
      out.write("\t\t    \t$('#cc').combotree('setValue', da);\r\n");
      out.write("\t\t\t\tif($('#includedeleted').switchbutton('options').checked==true){\r\n");
      out.write("\t\t\t\t\t$('#dg').datagrid('options').url='");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${pageContext.request.contextPath}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write("/department/show';\r\n");
      out.write("\t\t\t\t}else{\r\n");
      out.write("\t\t\t\t\t$('#dg').datagrid('options').url='");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${pageContext.request.contextPath}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write("/department/show?deleteornot=0';\r\n");
      out.write("\t\t\t\t}\r\n");
      out.write("\t\t    \t$('#dg').datagrid('load',{\r\n");
      out.write("\t\t\t\t\tparentDepartmentSn1:da.id\r\n");
      out.write("\t    \t\t});\r\n");
      out.write("\t\t    \tvar node = $(\"#cc\").combotree('tree').tree('find', da.id);\r\n");
      out.write("\t\t    \t$(\"#cc\").combotree('tree').tree('select', node.target);\r\n");
      out.write("\t\t    \tif(data.length == 1){\r\n");
      out.write("\t        \t\t$('#cc').combotree('tree').tree('expand', node.target);\r\n");
      out.write("\t        \t}\r\n");
      out.write("\t\t        <!--表单中的部门类型-->\r\n");
      out.write("\t\t        $('#departmentTypeSn').combobox({\r\n");
      out.write("\t\t    \t    url: '");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${pageContext.request.contextPath}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write("/department/queryDepartmentTypeByDepartmentSn',\r\n");
      out.write("\t\t    \t    valueField:'id',\r\n");
      out.write("\t\t    \t    textField:'text',\r\n");
      out.write("\t\t        \twidth:175,\r\n");
      out.write("\t\t        \teditable:false,\r\n");
      out.write("\t\t    \t    queryParams:{departmentSn:$('#cc').combotree('getValue')}\r\n");
      out.write("// \t\t     \t    onLoadSuccess: function (result) {\t\r\n");
      out.write("// \t\t     \t    \t//console.log(result);\r\n");
      out.write("// \t\t\t \t    \t$('#departmentTypeSn').combobox('setValue', result[0].id);\r\n");
      out.write("// \t\t\t \t\t}\r\n");
      out.write("\t\t    \t}); \r\n");
      out.write("           }\r\n");
      out.write("\t\t},\r\n");
      out.write("\t\t<!--当被选中时datagrid提交选中节点的编号加载相应的子部门-->\r\n");
      out.write("\t\tonSelect: function(){\r\n");
      out.write("\t\t\tvar t = $('#cc').combotree('tree');\r\n");
      out.write("\t\t\tvar node = t.tree('getSelected');\t\r\n");
      out.write("\t\t\t$('#dg').datagrid('load',{\r\n");
      out.write("\t\t\t\tparentDepartmentSn1:node.id\r\n");
      out.write("\t\t\t});\t\r\n");
      out.write("\t\t}\r\n");
      out.write("\t}); \r\n");
      out.write("    <!--表单中的部门类型-->\r\n");
      out.write("//      $('#departmentTypeSn').combobox({\r\n");
      out.write("//     \teditable:false\r\n");
      out.write("// \t    url: '");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${pageContext.request.contextPath}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write("/department/treeDT'\r\n");
      out.write("// \t    onLoadSuccess: function () {\t\r\n");
      out.write("// \t    \tvar da=$(\"#departmentTypeSn\").combotree('tree').tree(\"getRoot\");\t\r\n");
      out.write("// \t    \t$('#departmentTypeSn').combotree('setValue', da);\r\n");
      out.write("// \t\t}\t\t\r\n");
      out.write("//  \t});  \r\n");
      out.write("// \t$('#principalp').combogrid({\t\r\n");
      out.write("// \t\turl : \"");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${pageContext.request.contextPath}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write("/certificate/personsCertificate?item=1\",\r\n");
      out.write("// \t  \tpanelWidth:170,    \r\n");
      out.write("// \t\tprompt : '输入人员编号或姓名检索',\r\n");
      out.write("// \t    idField:'personId',    \r\n");
      out.write("// \t    textField:'personName',  \r\n");
      out.write("//         delay:200,\r\n");
      out.write("//         mode:\"remote\",\r\n");
      out.write("//         onBeforeLoad: function(param){\r\n");
      out.write("//         \tvar row= $('#dg').datagrid('getSelected');\r\n");
      out.write("//         \tif(row!=null)\r\n");
      out.write("//     \t\t\tparam.departmentSn = row.departmentSn;\r\n");
      out.write("//     \t},\r\n");
      out.write("//         queryParams:{\r\n");
      out.write("//         \tdepartmentSn:''         \r\n");
      out.write("// \t\t},\r\n");
      out.write("// \t    columns:[[    \r\n");
      out.write("// \t        {field:'personId',title:'人员编号',width:60},    \r\n");
      out.write("// \t        {field:'personName',title:'人员姓名',width:100} \r\n");
      out.write("// \t    ]] \r\n");
      out.write("// \t});\r\n");
      out.write("\t//第一层权限\r\n");
      out.write("\tif(str.indexOf('140101')==-1){\r\n");
      out.write("\t\t$('#addtool').css('display','none');\r\n");
      out.write("\t}\r\n");
      out.write("\tif(str.indexOf('140102')==-1){\r\n");
      out.write("\t\t$('#edittool').css('display','none');\r\n");
      out.write("\t}\r\n");
      out.write("\tif(str.indexOf('140103')==-1){\r\n");
      out.write("\t\t$('#deletetool').css('display','none');\r\n");
      out.write("\t}\r\n");
      out.write("\tif(str.indexOf('140104')==-1){\r\n");
      out.write("\t\t$('#importtool').css('display','none');\r\n");
      out.write("\t}\r\n");
      out.write("\tif(str.indexOf('140105')==-1){\r\n");
      out.write("\t\t$('#exporttool').css('display','none');\r\n");
      out.write("\t}\r\n");
      out.write("\t$('#cancelDelete').css('display','none');\r\n");
      out.write("\r\n");
      out.write("\t$('#addtool').linkbutton({\r\n");
      out.write("\t\tplain:false\r\n");
      out.write("\t});\r\n");
      out.write("\t$('#edittool').linkbutton({\r\n");
      out.write("\t\tplain:false\r\n");
      out.write("\t});\r\n");
      out.write("\t$('#deletetool').linkbutton({\r\n");
      out.write("\t\tplain:false\r\n");
      out.write("\t});\r\n");
      out.write("\t$('#importtool').linkbutton({\r\n");
      out.write("\t\tplain:false\r\n");
      out.write("\t});\r\n");
      out.write("\t$('#exporttool').linkbutton({\r\n");
      out.write("\t\tplain:false\r\n");
      out.write("\t});\r\n");
      out.write("\t//窗口以及窗口内表单元素生成与设置\r\n");
      out.write("\t$('#pdepartmentSn').textbox({\r\n");
      out.write("\t});\r\n");
      out.write("\t$('#departmentSn').textbox({\r\n");
      out.write("\t\trequired:true,\r\n");
      out.write("\t\tvalidType:'Number'\t\t\r\n");
      out.write("\t});\r\n");
      out.write("\t$('#departmentName').textbox({ \r\n");
      out.write("\t\trequired:true,\r\n");
      out.write("\t\tmissingMessage:'请输入部门名称'\r\n");
      out.write("\t});\r\n");
      out.write("\t$('#showSequence').textbox({ \r\n");
      out.write("\t\trequired:true,\r\n");
      out.write("\t\tmissingMessage:'请输入显示顺序（数字）'\r\n");
      out.write("\t});\r\n");
      out.write("\t//安全责任人\r\n");
      out.write("\t$('#principal').combogrid({   \r\n");
      out.write("\t\t//required:true, \r\n");
      out.write("\t    panelWidth:170,    \r\n");
      out.write("\t    delay: 500,    \r\n");
      out.write("\t    mode: 'remote',    \r\n");
      out.write("\t    url: '");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${pageContext.request.contextPath}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write("/role/personss',  \r\n");
      out.write("        loadFilter: function(data){\r\n");
      out.write("    \t\treturn eval('(' + data + ')');\r\n");
      out.write("    \t},\r\n");
      out.write("\t    idField: 'personId',    \r\n");
      out.write("\t    textField: 'personName',   \r\n");
      out.write("\t    prompt:'输入编号或姓名检索',\r\n");
      out.write("\t    columns: [[    \r\n");
      out.write("\t        {field:'personId',title:'编号',width:60,sortable:true},    \r\n");
      out.write("\t        {field:'personName',title:'姓名',width:100,sortable:true}    \r\n");
      out.write("\t    ]]    \r\n");
      out.write("\t});\r\n");
      out.write("\t$('#win').window({\r\n");
      out.write("\t\twidth:300,\r\n");
      out.write("\t\theight:400,\r\n");
      out.write("\t\ttitle:'填写部门信息',\r\n");
      out.write("\t\tcollapsible:false,\r\n");
      out.write("\t\tminimizable:false,\r\n");
      out.write("\t\tmaximizable:false,\r\n");
      out.write("\t\tclosed:true,\r\n");
      out.write("\t\tonClose:function(){\r\n");
      out.write("\t\t}\r\n");
      out.write("\t});\r\n");
      out.write("\t//导入窗口元素设置\r\n");
      out.write("\t$('#excel').textbox({\r\n");
      out.write("\t});\r\n");
      out.write("\t$('#winImport').window({\r\n");
      out.write("\t\twidth:230,\r\n");
      out.write("\t\theight:260,\r\n");
      out.write("\t\ttitle:'导入部门窗口',\r\n");
      out.write("\t\tcollapsible:false,\r\n");
      out.write("\t\tminimizable:false,\r\n");
      out.write("\t\tmaximizable:false,\r\n");
      out.write("\t\tclosed:true,\r\n");
      out.write("\t\tonClose:function(){\r\n");
      out.write("\t\t},\r\n");
      out.write("\t\tonOpen:function(){\r\n");
      out.write("\t\t\t$('#excel').filebox({\r\n");
      out.write("\t\t\t\tbuttonText:'选择文件'\r\n");
      out.write("\t\t\t});\r\n");
      out.write("\t\t}\r\n");
      out.write("\t});\r\n");
      out.write("\t$('#downloadImportTemplate').linkbutton({});\r\n");
      out.write("\t$('#importDepartmentBtn').linkbutton({});\r\n");
      out.write("\t\r\n");
      out.write("\t//元素点击事件\r\n");
      out.write("\t\r\n");
      out.write("\t//确认添加\r\n");
      out.write("\t$('#addbtn').click(function(){\r\n");
      out.write("\t\t$('#form').form('enableValidation');\r\n");
      out.write("\t\t$('#form').form('submit',{\r\n");
      out.write("\t\t\turl: \"");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${pageContext.request.contextPath}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write("/department/add\",\r\n");
      out.write("\t\t\tsuccess: function(data){\r\n");
      out.write("\t\t\t\tvar data = eval('(' + data + ')');\r\n");
      out.write("\t\t\t\t$.messager.alert('提示',data);  \r\n");
      out.write("\t\t\t\t$('#win').window('close');\t\t\t\r\n");
      out.write("\t\t\t\t$('#dg').datagrid('reload');\r\n");
      out.write("\t\t\t\t$('#form').form('reset');\r\n");
      out.write("\t\t\t}\r\n");
      out.write("\t\t});  \r\n");
      out.write("\t});\r\n");
      out.write("\t//确认修改\r\n");
      out.write("\t$('#updatebtn').click(function(){\r\n");
      out.write("\t\t$('#form').form('enableValidation');\r\n");
      out.write("\t\tvar res = $('#principal').combogrid('grid').datagrid('getSelected');\t// 获取数据表格对象\r\n");
      out.write("\t\t//console.log(res);\r\n");
      out.write("\t\tif( res == null || res.length == 0 ){\r\n");
      out.write("\t\t\t$.messager.alert('提示',\"请选择安全负责人！\");\r\n");
      out.write("\t\t}else{\r\n");
      out.write("\t\t\t$('#form').form('submit',{\r\n");
      out.write("\t\t\t\turl: \"");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${pageContext.request.contextPath}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write("/department/update\",\r\n");
      out.write("\t\t\t\tsuccess: function(data){\r\n");
      out.write("\t\t\t\t\t$('#win').window('close');\r\n");
      out.write("\t\t    \t \t$.messager.alert('提示',data.substring(1,data.length-1));\r\n");
      out.write("\t\t\t\t\t$('#dg').datagrid('reload');\r\n");
      out.write("\t\t\t\t\t$('#form').form('reset');\r\n");
      out.write("\t\t\t\t}\r\n");
      out.write("\t\t\t});\r\n");
      out.write("\t\t}\r\n");
      out.write("\t});\r\n");
      out.write("\t//确认导入\r\n");
      out.write("\t$('#importDepartmentBtn').click(function(){\r\n");
      out.write("\t\tvar ex=$('#excel').filebox('getValue');\r\n");
      out.write("\t\tif(ex!=\"\"){\r\n");
      out.write("\t\t\t var d1=/\\.[^\\.]+$/.exec(ex);   \r\n");
      out.write("\t\t    if(d1==\".xlsx\"){\r\n");
      out.write("\t\t\t //进度条显示\r\n");
      out.write("\t\t\t  $('#p').progressbar('setValue',0);\r\n");
      out.write("\t\t\t  $('#winPro').window('open');\r\n");
      out.write("\t\t\t  var timer = setInterval(getSession,500);\r\n");
      out.write("\t\t\t$('#formI').form('submit',{\r\n");
      out.write("\t\t\t\turl: \"");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${pageContext.request.contextPath}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write("/department/importDepartment\",\r\n");
      out.write("\t\t\t\tsuccess: function(data){\r\n");
      out.write("\t\t\t\t\t    //data = eval('(' + data + ')');\r\n");
      out.write("\t\t\t\t\t\t$('#p').progressbar('setValue','100');\r\n");
      out.write("\t\t\t\t\t\tclearInterval(timer);\r\n");
      out.write("\t\t\t\t\t\t$('#winPro').window('close');\r\n");
      out.write("\t\t\t\t\t\t$('#winImport').window('close');\r\n");
      out.write("\t\t\t\t\t\t$.messager.alert('提示',data.substring(1,data.length-1));\r\n");
      out.write("\t\t\t\t\t\t$('#dg').datagrid('reload');\t\t\t\r\n");
      out.write("\t\t\t\t\t}\r\n");
      out.write("\t\t\t});\r\n");
      out.write("\t\t    }    \r\n");
      out.write("\t\t    else{\r\n");
      out.write("\t\t    \t $.messager.alert('提示','请选择.xlsx文件！');\r\n");
      out.write("\t\t    \t $('#excel').filebox('setValue','');\r\n");
      out.write("\t\t     }\r\n");
      out.write("\t\t}else{\r\n");
      out.write("\t\t\t$.messager.alert('提示','请选择文件！');\r\n");
      out.write("\t\t}\r\n");
      out.write("\t});\r\n");
      out.write("\t//包含已删除的开关\r\n");
      out.write("\t$('#includedeleted').switchbutton({ \r\n");
      out.write("\t      checked: false,\r\n");
      out.write("\t      width:60,\r\n");
      out.write("\t      onText:'显示',\r\n");
      out.write("\t      offText:'不显示',\r\n");
      out.write("\t      onChange:function(checked){\r\n");
      out.write("\t    \t  if(checked==true){\r\n");
      out.write("\t\t\t\t\t$('#dg').datagrid('options').url='");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${pageContext.request.contextPath}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write("/department/show';\r\n");
      out.write("\t\t\t\t\t$('#cc').combotree('options').url='");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${pageContext.request.contextPath}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write("/department/treeAllIncludeDeleted?resourceSn=1401';\r\n");
      out.write("\t    \t  }else{\r\n");
      out.write("\t\t\t\t\t$('#dg').datagrid('options').url='");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${pageContext.request.contextPath}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write("/department/show?deleteornot=0';\t\r\n");
      out.write("\t\t\t\t\t$('#cc').combotree('options').url='");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${pageContext.request.contextPath}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write("/department/treeAll?resourceSn=1401';\r\n");
      out.write("\t    \t  }\r\n");
      out.write("\t\t\t  //$('#dg').datagrid('reload');\r\n");
      out.write("\t\t\t  //var a = $('#cc').combotree('getValue');\r\n");
      out.write("\t\t\t  //var b = $('#cc').combotree('getText');\r\n");
      out.write("\t\t\t  var node = $('#cc').combotree('tree').tree('getRoot');\r\n");
      out.write("\t\t\t  $('#cc').combotree('reload');\r\n");
      out.write("\t\t\t  $('#cc').combotree('setValue',{id:node.id,text:node.text});\r\n");
      out.write("\t\t      $(\"#cc\").combotree('tree').tree('select', node.target);\r\n");
      out.write("\t      } \r\n");
      out.write("\t});\r\n");
      out.write("\t\r\n");
      out.write("});\r\n");
      out.write("function getProValue(){\r\n");
      out.write("\tvar timer = setInterval(function(){\r\n");
      out.write("\t\t$.ajax({\r\n");
      out.write("\t\t\turl:'");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${pageContext.request.contextPath}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write("/hazard/manageObjectAction_findProValue.action',\r\n");
      out.write("\t\t\tsuccess: function(data){\r\n");
      out.write("\t\t\t\t$('#p').progressbar('setValue',data);\r\n");
      out.write("\t\t\t\tif(data == 100){\r\n");
      out.write("\t\t\t\t\t$.ajax({\r\n");
      out.write("\t \t\t\t\t\turl:'");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${pageContext.request.contextPath}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write("/hazard/manageObjectAction_clearSession.action',\r\n");
      out.write("\t \t\t\t\t});\r\n");
      out.write("\t\t\t\t\t$('#winPro').window('close');\r\n");
      out.write("                    clearInterval(timer);\r\n");
      out.write("                }\r\n");
      out.write("\t\t\t}\r\n");
      out.write("\t\t},\"json\");\r\n");
      out.write("\t},100);\r\n");
      out.write("};\r\n");
      out.write("//ajax发送请求session--导入\r\n");
      out.write("function getSession(){\r\n");
      out.write("\t$.ajax({\r\n");
      out.write("\t\turl:'");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${pageContext.request.contextPath}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write("/hazard/manageObjectAction_findSession.action',\r\n");
      out.write("\t\tsuccess: function(data){\r\n");
      out.write("\t\t\t$('#p').progressbar('setValue',data);\r\n");
      out.write("\t\t}\r\n");
      out.write("\t},\"json\");\r\n");
      out.write("};\r\n");
      out.write("</script>\r\n");
      out.write("</head>\r\n");
      out.write("<body>\r\n");
      out.write("\t<input id=\"checkdelete\" type=\"hidden\">\r\n");
      out.write("\t<input id=\"tree\" type=\"hidden\" >\r\n");
      out.write("\t<table id=\"dg\"></table>\r\n");
      out.write("\t<div id=\"win\" class=\"easyui-window\"  style=\"padding:5px;\">\r\n");
      out.write("\t\t<form id=\"form\" method=\"post\">\r\n");
      out.write("\t\t\t<input type=\"hidden\" name=\"updateId\">\r\n");
      out.write("\t\t\t<div class=\"fitem\">\r\n");
      out.write("\t\t\t\t<label>部门类别</label>\r\n");
      out.write("\t\t\t\t&emsp;&emsp;&emsp;&emsp;<input id=\"departmentTypeSn\" name=\"departmentTypeSn\" class=\"easyui-combobox\">\r\n");
      out.write("\t\t\t</div><br/>\r\n");
      out.write("\t\t\t<div class=\"fitem\">\r\n");
      out.write("\t\t\t\t<label>父部门编号：</label>\r\n");
      out.write("\t\t\t\t&emsp;&emsp;<input id=\"pdepartmentSn\" iconCls=\"icon-lock\"  class=\"easyui-textbox\"/>\r\n");
      out.write("\t\t\t</div><br/>\r\n");
      out.write("\t\t\t<div id=\"departmentDiv\" class=\"fitem\">\r\n");
      out.write("\t\t\t\t<label>部门编号：</label>\r\n");
      out.write("\t\t\t\t&emsp;&emsp;&emsp;<input id=\"departmentSn\" name=\"departmentSn\" class=\"easyui-textbox\"/>\r\n");
      out.write("\t\t\t</div><br/>\r\n");
      out.write("\t\t\t<div class=\"fitem\">\r\n");
      out.write("\t\t\t\t<label>部门名称：</label>\r\n");
      out.write("\t\t\t\t&emsp;&emsp;&emsp;<input id=\"departmentName\" name=\"departmentName\" class=\"easyui-validatebox easyui-textbox\"/>\r\n");
      out.write("\t\t\t</div><br/>\r\n");
      out.write("\t\t\t<div class=\"fitem\">\r\n");
      out.write("\t\t\t\t<label>显示顺序：</label>\r\n");
      out.write("\t\t\t\t&emsp;&emsp;&emsp;<input id=\"showSequence\" name=\"showSequence\" class=\"easyui-validatebox easyui-textbox\"/>\r\n");
      out.write("\t\t\t</div><br/>\r\n");
      out.write("\t\t\t<div class=\"fitem\">\r\n");
      out.write("\t\t\t\t<label>安全责任人：</label>\r\n");
      out.write("\t\t\t\t&emsp;&emsp;<input id=\"principal\" name=\"principal\"/>\r\n");
      out.write("\t\t\t</div><br/>\r\n");
      out.write("\t\t\t<br/><br/>\r\n");
      out.write("\t\t\t<div id=\"dlg-buttons\" style=\"padding-left:35px\">\r\n");
      out.write("\t\t\t\t&emsp;&emsp;&emsp;&emsp;<a id=\"addbtn\" class=\"easyui-linkbutton\" iconCls=\"icon-ok\">确认添加</a>\r\n");
      out.write("\t\t\t\t&emsp;&emsp;&emsp;<a id=\"updatebtn\" class=\"easyui-linkbutton\" iconCls=\"icon-ok\">确认修改</a>\r\n");
      out.write("\t\t\t</div>\r\n");
      out.write("\t\t</form>\r\n");
      out.write("\t</div>\r\n");
      out.write("\t<div id=\"winImport\" class=\"easyui-window\" style=\"padding:5px;\">\r\n");
      out.write("\t\t<form id=\"formI\" method=\"post\" enctype=\"multipart/form-data\">\t\t\r\n");
      out.write("\t\t\t<br/><br/>\r\n");
      out.write("\t\t\t\t<input id=\"excel\" type=\"text\" name=\"excel\"/><br/><br/><br/><br/>\r\n");
      out.write("\t\t\t\t<a id=\"downloadImportTemplate\" class=\"easyui-linkbutton\" iconCls=\"icon-mini-add\" href=\"");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${pageContext.request.contextPath}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write("/department/download\">下载导入模板</a>\t\r\n");
      out.write("\t\t\t\t<br/><br/><br/><a id=\"importDepartmentBtn\" class=\"easyui-linkbutton\" iconCls=\"icon-import\">导入部门</a>\t\t\t\t\r\n");
      out.write("\t\t</form>\r\n");
      out.write("\t</div>\r\n");
      out.write("\t<!-- 进度条窗口 -->\r\n");
      out.write("\t<div id=\"winPro\" class=\"easyui-window\" closed=true title=\"操作中,请等待...\" style=\"width:400px;height:100px\"   \r\n");
      out.write("\t        data-options=\"collapsible:false,minimizable:false,maximizable:false,modal:true\">   \r\n");
      out.write("\t      <div id=\"p\" class=\"easyui-progressbar\" style=\"width:300px;margin-top:20px;margin-left:50px\"></div>\r\n");
      out.write("\t</div>\r\n");
      out.write("</body>\r\n");
      out.write("</html>");
    } catch (java.lang.Throwable t) {
      if (!(t instanceof javax.servlet.jsp.SkipPageException)){
        out = _jspx_out;
        if (out != null && out.getBufferSize() != 0)
          try {
            if (response.isCommitted()) {
              out.flush();
            } else {
              out.clearBuffer();
            }
          } catch (java.io.IOException e) {}
        if (_jspx_page_context != null) _jspx_page_context.handlePageException(t);
        else throw new ServletException(t);
      }
    } finally {
      _jspxFactory.releasePageContext(_jspx_page_context);
    }
  }
}
